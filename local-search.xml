<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ubuntu18.04初步搭建nodejs和mariadb</title>
    <link href="/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/"/>
    <url>/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/</url>
    
    <content type="html"><![CDATA[<p>心血来潮想玩一下linux和服务器， 其他后端语言也不会，只能玩玩nodejs这样子啦</p><p>下面整理了一些安装过程搜集的资料以及遇到的问题。因是linux小白，难免有错，还请指正！</p><h2 id="1-vim的安装"><a href="#1-vim的安装" class="headerlink" title="1. vim的安装"></a>1. vim的安装</h2><p>我的虚拟机建好后，没有vim，须手动安装。在终端中输入 <code>sudo apt install vim</code> ,安装过程中先输入账户密码，后续提示是否继续按 <code>y</code>回车即好</p><h2 id="2-ubuntu18-04-开启root账户登录"><a href="#2-ubuntu18-04-开启root账户登录" class="headerlink" title="2. ubuntu18.04 开启root账户登录"></a>2. ubuntu18.04 开启root账户登录</h2><p>2.1 在已登录当前账户的情况下，先设置root密码</p><p><code>$ sudo passwd root</code></p><p>根据提示输入当前密码、root的密码，确认root 密码即可。 普通用户也可以执行 <code>$ su root</code> 临时的使用root账户。在使用root账户的前提下继续操作</p><p>2.2 <strong>下面修改一些文件配置，实现在开机后可以直接使用root登录</strong></p><p><em>最好在修改前使用 cp命令 备份文件</em>  </p><ol><li><p><code># vim /root/.profile</code></p><p>找到最后一行：<code>mesg n || true</code>，先注释掉，增加<code>tty -s &amp;&amp; mesg n || true</code>这行，如下图所示：<br><img src="/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/01.png" alt="image"></p></li><li><p><code># cd /etc/pam.d/</code></p><p>需要做修改的有两个文件：gdm-autologin和gdm-password, 注释掉红框中的内容。<br><img src="/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/02.png" alt="image"><br><img src="/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/03.png" alt="image"></p><p>关机重启虚拟机，在选择用户时点击 <code>Notlisted</code> 使用root和2.1步骤中设置的密码登录</p></li></ol><blockquote><p>本部分参考文章 <a href="https://ywnz.com/linuxjc/4960.html">让ubuntu系统支持root登录的方法</a></p></blockquote><h2 id="3-安装nodejs"><a href="#3-安装nodejs" class="headerlink" title="3. 安装nodejs"></a>3. 安装nodejs</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs console"><span class="hljs-meta">#</span><span class="bash"> wget https://nodejs.org/dist/v10.9.0/node-v10.9.0-linux-x64.tar.xz  // 下载 链接可以在nodejs.org官网中右键复制链接地址</span><br><span class="hljs-meta">#</span><span class="bash"> tar xf  node-v10.9.0-linux-x64.tar.xz       // 解压</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">cd</span> node-v10.9.0-linux-x64/                  // 进入解压目录</span><br><span class="hljs-meta">#</span><span class="bash"> ./bin/node -v                               // 执行node命令 查看版本</span><br>v10.9.0  // 成功<br></code></pre></td></tr></table></figure><p>添加环境变量</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs console"><span class="hljs-meta">#</span><span class="bash"> vim /etc/profile</span><br>// 最后一行添加 export PATH=$PATH:/software/nodejs/bin  //$PATH: 后填解压的路径<br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">source</span> /etc/profile  //遇到问题是 ： 有时候每次开终端都要重新运行 此行命令</span><br></code></pre></td></tr></table></figure><p>npm 可以设置淘宝仓库<code>npm config set registry https://registry.npm.taobao.org</code></p><p>安装 pm2 用来后续管理服务器  <code>npm install pm2@latest -g</code>。pm2的使用查阅<a href="https://pm2.keymetrics.io/docs/usage/quick-start/">官方文档</a></p><h2 id="4-安装MariaDB"><a href="#4-安装MariaDB" class="headerlink" title="4. 安装MariaDB"></a>4. 安装MariaDB</h2><p> <code>apt install mariadb-server mariadb-client</code> 安装</p><p><code>mysql_secure_installation</code> 初始化</p><p>接着会有若干问题 选择 <code>y</code> or  <code>n</code></p><blockquote><p>遇到一个问题：必须使用使用<code>sudo mysql -uroot -p</code>才能连接，而<code>mysql -h127.0.0.1 -P3306 -uroot -p</code>连接不上数据库</p><p>解决：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;&lt;PASSWORD&gt;&#x27;</span>;  #<span class="hljs-operator">&lt;</span>PASSWORD<span class="hljs-operator">&gt;</span>替换为自己想要的密码<br>FLUSH <span class="hljs-keyword">ALL</span> PRIVILEGES;<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo service mysql restart // 重启mariadb<br></code></pre></td></tr></table></figure></blockquote><h2 id="5-安装-Git"><a href="#5-安装-Git" class="headerlink" title="5. 安装 Git"></a>5. 安装 Git</h2><p>参考 git <a href="https://git-scm.com/download/linux">官方</a></p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
      <tag>nodejs</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
