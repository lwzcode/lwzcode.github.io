<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ‰‹å†™Vue3å“åº”å¼</title>
      <link href="/2023/12/06/%E6%89%8B%E5%86%99Vue3%E5%93%8D%E5%BA%94%E5%BC%8F/"/>
      <url>/2023/12/06/%E6%89%8B%E5%86%99Vue3%E5%93%8D%E5%BA%94%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> observeWeakMap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>();</span><br><span class="line"><span class="keyword">let</span> activeEffect = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// æ·»åŠ æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°å¹¶æ”¶é›†ä¾èµ–</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">effect</span> = (<span class="params">eff</span>) =&gt; &#123;</span><br><span class="line">  activeEffect = eff;</span><br><span class="line">  <span class="title function_">activeEffect</span>();</span><br><span class="line">  activeEffect = <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// activeEffectæ‰§è¡Œæ—¶å¦‚æœæœ‰è§¦å‘getï¼Œåˆ™æ‰§è¡Œtrack</span></span><br><span class="line"><span class="comment">// å°†å“åº”å¼å¯¹è±¡çš„å‰¯ä½œç”¨å‡½æ•°æ”¶é›†åˆ°ä¸€ä¸ªweakMap</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">track</span> = (<span class="params">target, key</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (activeEffect) &#123;</span><br><span class="line">    <span class="comment">// å¾—åˆ°targetå¯¹è±¡å¯¹åº”çš„Map:(keyï¼šnew Set())</span></span><br><span class="line">    <span class="comment">// key ä¸ºå±æ€§</span></span><br><span class="line">    <span class="comment">// set é‡Œä¿å­˜çš„æ˜¯å¤šä¸ªå‰¯ä½œç”¨å‡½æ•°</span></span><br><span class="line">    <span class="keyword">let</span> depsMap = observeWeakMap.<span class="title function_">get</span>(target);</span><br><span class="line">    <span class="keyword">if</span> (!depsMap) &#123;</span><br><span class="line">      depsMap = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">      observeWeakMap.<span class="title function_">set</span>(target, depsMap);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> depsSet = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line">    <span class="keyword">if</span> (!depsSet) &#123;</span><br><span class="line">      depsSet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">      depsMap.<span class="title function_">set</span>(key, depsSet);</span><br><span class="line">    &#125;</span><br><span class="line">    depsSet.<span class="title function_">add</span>(activeEffect);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åœ¨setæ—¶è°ƒç”¨trigger</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">trigger</span> = (<span class="params">target, key</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> depsMap = observeWeakMap.<span class="title function_">get</span>(target);</span><br><span class="line">  <span class="keyword">if</span> (!depsMap) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">const</span> depsSet = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line">  <span class="keyword">if</span> (!depsSet) <span class="keyword">return</span>;</span><br><span class="line">  depsSet.<span class="title function_">forEach</span>(<span class="function">(<span class="params">eff</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">eff</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">reactive</span> = (<span class="params">target</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> handler = &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, key, receiver</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> result = <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, key, receiver);</span><br><span class="line">      <span class="title function_">track</span>(target, key);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, key, value, receiver</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> oldValue = <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, key, receiver);</span><br><span class="line">      <span class="keyword">const</span> result = <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, key, value, receiver);</span><br><span class="line">      <span class="keyword">if</span> (oldValue !== value) &#123;</span><br><span class="line">        <span class="title function_">trigger</span>(target, key);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, handler);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">ref</span> = (<span class="params">value</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> target = &#123; <span class="attr">_value</span>: value &#125;;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="string">&quot;value&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> _key = <span class="string">&quot;_value&quot;</span>;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, key, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> result = <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, _key);</span><br><span class="line">      <span class="title function_">track</span>(target, key);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> oldValue = <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, _key);</span><br><span class="line">      <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, _key, value);</span><br><span class="line">      <span class="keyword">if</span> (oldValue !== value) &#123;</span><br><span class="line">        <span class="title function_">trigger</span>(target, key);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">computed</span> = (<span class="params">getter</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> r = &#123;</span><br><span class="line">    <span class="attr">_dirty</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">_init</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">value</span>() &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_dirty</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">_init</span>) &#123;</span><br><span class="line">          activeEffect = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">_dirty</span>) <span class="variable language_">this</span>.<span class="property">_dirty</span> = <span class="literal">true</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_value</span> = <span class="title function_">getter</span>();</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">_init</span>) &#123;</span><br><span class="line">          activeEffect = <span class="literal">null</span>;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_init</span> = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_dirty</span> = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_value</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™promise</title>
      <link href="/2023/12/06/%E6%89%8B%E5%86%99promise/"/>
      <url>/2023/12/06/%E6%89%8B%E5%86%99promise/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyPromise</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> state = <span class="string">&quot;pending&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> value = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">const</span> callbacks = [];</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">then</span> = <span class="keyword">function</span> (<span class="params">onFulfilled</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">handle</span>(&#123;</span><br><span class="line">        <span class="comment">//æ¡¥æ¢ï¼Œå°†æ–° Promise çš„ resolve æ–¹æ³•ï¼Œæ”¾åˆ°å‰ä¸€ä¸ª promise çš„å›è°ƒå¯¹è±¡ä¸­</span></span><br><span class="line">        onFulfilled,</span><br><span class="line">        resolve,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handle</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (state === <span class="string">&quot;pending&quot;</span>) &#123;</span><br><span class="line">      callbacks.<span class="title function_">push</span>(callback);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (state === <span class="string">&quot;fulfilled&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!callback.<span class="property">onFulfilled</span>) &#123;</span><br><span class="line">        callback.<span class="title function_">resolve</span>(value);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> ret = callback.<span class="title function_">onFulfilled</span>(value); <span class="comment">//å¤„ç†å›è°ƒ</span></span><br><span class="line">      callback.<span class="title function_">resolve</span>(ret); <span class="comment">//å¤„ç†ä¸‹ä¸€ä¸ª promise çš„resolve</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (state !== <span class="string">&quot;pending&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      state = <span class="string">&quot;fulfilled&quot;</span>;</span><br><span class="line">      value = newValue;</span><br><span class="line">      <span class="title function_">handelCb</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">queueMicrotask</span>(fn); <span class="comment">//åŸºäº PromiseA+ è§„èŒƒ</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handelCb</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">while</span> (callbacks.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> fulfiledFn = callbacks.<span class="title function_">shift</span>();</span><br><span class="line">      <span class="title function_">handle</span>(fulfiledFn);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">fn</span>(resolve);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">20</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ECMAScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascript-encoding</title>
      <link href="/2023/04/26/javascript-encoding/"/>
      <url>/2023/04/26/javascript-encoding/</url>
      
        <content type="html"><![CDATA[<p>Does JavaScript use UCS-2 or UTF-16 encoding? Since I couldnâ€™t find a definitive answer to this question anywhere, I decided to look into it. The answer depends on what youâ€™re referring to: the JavaScript engine, or JavaScript at the language level.</p><p>Letâ€™s start with the basicsâ€¦</p><h1 id="The-notorious-BMP"><a href="#The-notorious-BMP" class="headerlink" title="The notorious BMP"></a>The notorious BMP</h1><p>Unicode identifies characters by an unambiguous name and an integer number called its code point. For example, the Â© character is named â€œcopyright signâ€ and has U+00A9 â€” 0xA9 can be written as 169 in decimal â€” as its code point.</p><p>The Unicode code space is divided into seventeen planes of 2^16 (65,536) code points each. Some of these code points have not yet been assigned character values, some are reserved for private use, and some are permanently reserved as non-characters. The code points in each plane have the hexadecimal values xy0000 to xyFFFF, where xy is a hex value from 00 to 10, signifying which plane the values belong to.</p><p>The first plane (xy is 00) is called the Basic Multilingual Plane or BMP. It contains the code points from U+0000 to U+FFFF, which are the most frequently used characters.</p><p>The other sixteen planes (U+010000 â†’ U+10FFFF) are called supplementary planes or astral planes. I wonâ€™t discuss them here; just remember that there are BMP characters and non-BMP characters, the latter of which are also known as supplementary characters or astral characters.</p><h1 id="Differences-between-UCS-2-and-UTF-16"><a href="#Differences-between-UCS-2-and-UTF-16" class="headerlink" title="Differences between UCS-2 and UTF-16"></a>Differences between UCS-2 and UTF-16</h1><p>Both UCS-2 and UTF-16 are character encodings for Unicode.</p><p>UCS-2 (2-byte Universal Character Set) produces a fixed-length format by simply using the code point as the 16-bit code unit. This produces exactly the same result as UTF-16 for the majority of all code points in the range from 0 to 0xFFFF (i.e. the BMP).</p><p>UTF-16 (16-bit Unicode Transformation Format) is an extension of UCS-2 that allows representing code points outside the BMP. It produces a variable-length result of either one or two 16-bit code units per code point. This way, it can encode code points in the range from 0 to 0x10FFFF.</p><p>For example, in both UCS-2 and UTF-16, the BMP character U+00A9 copyright sign (Â©) is encoded as 0x00A9.</p><h1 id="Surrogate-pairs"><a href="#Surrogate-pairs" class="headerlink" title="Surrogate pairs"></a>Surrogate pairs</h1><p>Characters outside the BMP, e.g. U+1D306 tetragram for centre (ğŒ†), can only be encoded in UTF-16 using two 16-bit code units: 0xD834 0xDF06. This is called a surrogate pair. Note that a surrogate pair only represents a single character.</p><p>The first code unit of a surrogate pair is always in the range from 0xD800 to 0xDBFF, and is called a high surrogate or a lead surrogate.</p><p>The second code unit of a surrogate pair is always in the range from 0xDC00 to 0xDFFF, and is called a low surrogate or a trail surrogate.</p><p>UCS-2 lacks the concept of surrogate pairs, and therefore interprets 0xD834 0xDF06 (the previous UTF-16 encoding) as two separate characters.</p><p>Converting between code points and surrogate pairs<br>Section 3.7 of The Unicode Standard 3.0 defines the algorithms for converting to and from surrogate pairs.</p><p>A code point C greater than 0xFFFF corresponds to a surrogate pair <code>&lt;H, L&gt;</code> as per the following formula:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H = <span class="title class_">Math</span>.<span class="title function_">floor</span>((C - <span class="number">0x10000</span>) / <span class="number">0x400</span>) + <span class="number">0xD800</span></span><br><span class="line">L = (C - <span class="number">0x10000</span>) % <span class="number">0x400</span> + <span class="number">0xDC00</span></span><br></pre></td></tr></table></figure><p>The reverse mapping, i.e. from a surrogate pair <code>&lt;H, L&gt;</code> to a Unicode code point C, is given by:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = (H - <span class="number">0xD800</span>) * <span class="number">0x400</span> + L - <span class="number">0xDC00</span> + <span class="number">0x10000</span></span><br></pre></td></tr></table></figure><p>Ok, so what about JavaScript?<br>ECMAScript, the standardized version of JavaScript, defines how characters should be interpreted:</p><p>A conforming implementation of this International standard shall interpret characters in conformance with the Unicode Standard, Version 3.0 or later and ISO/IEC 10646-1 with either UCS-2 or UTF-16 as the adopted encoding form, implementation level 3. If the adopted ISO/IEC 10646-1 subset is not otherwise specified, it is presumed to be the BMP subset, collection 300. If the adopted encoding form is not otherwise specified, it is presumed to be the UTF-16 encoding form.</p><p>In other words, JavaScript engines are allowed to use either UCS-2 or UTF-16.</p><p>However, specific parts of the specification require some UTF-16 knowledge, regardless of the engineâ€™s internal encoding.</p><p>Of course, internal engine specifics donâ€™t really matter to the average JavaScript developer. Whatâ€™s far more interesting is what JavaScript considers to be â€œcharactersâ€, and how it exposes those:</p><p>Throughout the rest of this document, the phrase code unit and the word character will be used to refer to a 16-bit unsigned value used to represent a single 16-bit unit of text.<br>The phrase Unicode character will be used to refer to the abstract linguistic or typographical unit represented by a single Unicode scalar value (which may be longer than 16 bits and thus may be represented by more than one code unit).<br>The phrase code point refers to such a Unicode scalar value.<br>Unicode character only refers to entities represented by single Unicode scalar values: the components of a combining character sequence are still individual â€œUnicode charactersâ€, even though a user might think of the whole sequence as a single character.</p><p>JavaScript treats code units as individual characters, while humans generally think in terms of Unicode characters. This has some unfortunate consequences for Unicode characters outside the BMP. Since surrogate pairs consist of two code units, â€˜ğŒ†â€™.length == 2, even though thereâ€™s only one Unicode character there. The individual surrogate halves are being exposed as if they were characters: <code>&#39;ğŒ†&#39; == &#39;\uD834\uDF06&#39;</code>.</p><p>Remind you of something? It should, â€™cause this is almost exactly how UCS-2 works. (The only difference is that technically, UCS-2 doesnâ€™t allow surrogate characters, while JavaScript strings do.)</p><p>You could argue that it resembles UTF-16, except unmatched surrogate halves are allowed, surrogates in the wrong order are allowed, and surrogate halves are exposed as separate characters. I think youâ€™ll agree that itâ€™s easier to think of this behavior as â€œUCS-2 with surrogatesâ€.</p><p>This UCS-2-like behavior affects the entire language â€” for example, regular expressions for ranges of supplementary characters are much harder to write than in languages that do support UTF-16.</p><p>Surrogate pairs are only recombined into a single Unicode character when theyâ€™re displayed by the browser (during layout). This happens outside of the JavaScript engine. To demonstrate this, you could write out the high surrogate and the low surrogate in separate document.write() calls: document.write(â€˜\uD834â€™); document.write(â€˜\uDF06â€™);. This ends up getting rendered as ğŒ† â€” one glyph.</p><p>Conclusion<br>JavaScript engines are free to use UCS-2 or UTF-16 internally. Most engines that I know of use UTF-16, but whatever choice they made, itâ€™s just an implementation detail that wonâ€™t affect the languageâ€™s characteristics.</p><p>The ECMAScript/JavaScript language itself, however, exposes characters according to UCS-2, not UTF-16.</p><p>If you ever need to <a href="https://mathiasbynens.be/notes/javascript-escapes">escape a Unicode character</a>, breaking it up into surrogate halves when necessary, feel free to use my <a href="https://mothereff.in/js-escapes#1%F0%9D%8C%86">JavaScript escaper</a> tool.</p><p>If you want to <a href="https://mothereff.in/byte-counter#%F0%9D%8C%86">count the number of Unicode characters</a> in a JavaScript string, or create a string based on a non-BMP Unicode code point, you could use <a href="https://mths.be/punycode">Punycode.js</a>â€™s utility functions to convert between UCS-2 strings and UTF-16 code points:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `String.length` replacement that only counts full Unicode characters</span></span><br><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">decode</span>(<span class="string">&#x27;ğŒ†&#x27;</span>).<span class="property">length</span>; <span class="comment">// 1</span></span><br><span class="line"><span class="comment">// `String.fromCharCode` replacement that doesnâ€™t make you enter the surrogate halves separately</span></span><br><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">encode</span>([<span class="number">0x1D306</span>]); <span class="comment">// &#x27;ğŒ†&#x27;</span></span><br><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">encode</span>([<span class="number">119558</span>]); <span class="comment">// &#x27;ğŒ†&#x27;</span></span><br></pre></td></tr></table></figure><p>ECMAScript 6 will support a new kind of escape sequence in strings, namely <a href="https://mathiasbynens.be/notes/javascript-escapes#unicode-code-point">Unicode code point escapes</a> e.g. <code>\u&#123;1D306&#125;</code>. Additionally, it will define String.fromCodePoint and String#codePointAt, both of which accept code points rather than code units.</p><p>Thanks to Jonas â€˜nlogaxâ€™ Westerlund, Andrew â€˜bobinceâ€™ Clover, and Tab Atkins Jr. for inspiring me to look into this, and for helping me out with their explanations.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueä¹¾å¤å¾®åº”ç”¨çš„ä½¿ç”¨å’Œéƒ¨ç½²</title>
      <link href="/2023/04/01/Vue%E4%B9%BE%E5%9D%A4%E5%BE%AE%E5%BA%94%E7%94%A8%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E9%83%A8%E7%BD%B2/"/>
      <url>/2023/04/01/Vue%E4%B9%BE%E5%9D%A4%E5%BE%AE%E5%BA%94%E7%94%A8%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-ä¸»åº”ç”¨"><a href="#Vue-ä¸»åº”ç”¨" class="headerlink" title="Vue ä¸»åº”ç”¨"></a>Vue ä¸»åº”ç”¨</h1><h2 id="æ³¨å†Œå¾®åº”ç”¨"><a href="#æ³¨å†Œå¾®åº”ç”¨" class="headerlink" title="æ³¨å†Œå¾®åº”ç”¨"></a>æ³¨å†Œå¾®åº”ç”¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  start,</span><br><span class="line">  addGlobalUncaughtErrorHandler,</span><br><span class="line">  registerMicroApps,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;qiankun&quot;</span>;</span><br><span class="line"><span class="comment">//æ³¨å†Œå¾®åº”ç”¨</span></span><br><span class="line"><span class="keyword">const</span> apps = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;micro-app1&quot;</span>,</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;/micro-app1/&quot;</span>, <span class="comment">//å…¥å£ ä¸¤ç«¯å¿…é¡»æœ‰&#x27;/&#x27;</span></span><br><span class="line">    <span class="attr">container</span>: <span class="string">&quot;sub-app-container&quot;</span>, <span class="comment">// å¾®åº”ç”¨æŒ‚è½½çš„DOM</span></span><br><span class="line">    <span class="attr">activeRule</span>: <span class="string">&quot;/app1&quot;</span>, <span class="comment">//</span></span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">      <span class="attr">menuName</span>: <span class="string">&quot;å¾®åº”ç”¨APP1&quot;</span>,</span><br><span class="line">      <span class="attr">submenu</span>: [&#123; <span class="attr">menuUrl</span>: <span class="string">&quot;/app1/dashboard&quot;</span>, <span class="attr">menuName</span>: <span class="string">&quot;å·¥ä½œå°&quot;</span> &#125;],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="title function_">registerMicroApps</span>(apps, &#123;</span><br><span class="line">  <span class="comment">//åªä¼šæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">  <span class="attr">beforeLoad</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">beforeMount</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">afterMount</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">beforUnmount</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">afterUnmount</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç”±äºæ˜¯å¤šå°æœåŠ¡å™¨éƒ¨ç½²ï¼Œ<code>entry</code>å’Œ<code>activeRule</code>å¿…é¡»ä¸ä¸€æ ·ï¼Œå¦åˆ™åˆ·æ–°åä¼šå˜æˆå¾®åº”ç”¨çš„é¡µé¢ï¼Œ<code>entry</code>ä¼šè¢«æ³¨å†Œä¸ºå¾®åº”ç”¨çš„è¿è¡Œæ—¶<code>__webpack_public_path__</code>ã€‚ä¾‹å¦‚ä¸»åº”ç”¨çš„å½“å‰åœ°å€æ˜¯ <code>http://wwwqiangian.com</code>,æŒ‰å¦‚ä¸Šé…ç½®åŠ è½½<code>micro-app1</code> æ—¶åˆ™ä¼šæ‹¼æ¥<code>entry</code>,ç”¨<code>http://www.qianqian.com/micro-app1/</code>è¯·æ±‚å¾®åº”ç”¨çš„<code>index.html</code>ã€‚å­åº”ç”¨å’Œ nginx çš„é…ç½®ä¹Ÿéœ€é…åˆæ”¹åŠ¨ã€‚</p><h2 id="ä¸»åº”ç”¨è·¯ç”±è®¾ç½®"><a href="#ä¸»åº”ç”¨è·¯ç”±è®¾ç½®" class="headerlink" title="ä¸»åº”ç”¨è·¯ç”±è®¾ç½®"></a>ä¸»åº”ç”¨è·¯ç”±è®¾ç½®</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;history&quot;</span>,</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;login&quot;</span>, <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;@/views/login&quot;</span>) &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Layout</span>,</span><br><span class="line">      <span class="attr">redirect</span>: <span class="string">&quot;/dashboard&quot;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;BaseLayout&quot;</span>,</span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        <span class="comment">// ä¸»åº”ç”¨è·¯ç”±</span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&quot;/dashboard&quot;</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&quot;dashboard&quot;</span>,</span><br><span class="line">          <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;å·¥ä½œå°&quot;</span>, <span class="attr">affix</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;@/views/dashboard/index.vue&quot;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç¡®ä¿æ‰€æœ‰å¾®åº”ç”¨çš„ç¬¬ä¸€æ¬¡è½½å…¥ä¼šè½½å…¥åˆ°Layout</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;*&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Layout</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="åœ¨ä¸»åº”ç”¨åŠ¨æ€æ·»åŠ å­åº”ç”¨çš„è·¯ç”±"><a href="#åœ¨ä¸»åº”ç”¨åŠ¨æ€æ·»åŠ å­åº”ç”¨çš„è·¯ç”±" class="headerlink" title="åœ¨ä¸»åº”ç”¨åŠ¨æ€æ·»åŠ å­åº”ç”¨çš„è·¯ç”±"></a>åœ¨ä¸»åº”ç”¨åŠ¨æ€æ·»åŠ å­åº”ç”¨çš„è·¯ç”±</h2><p>åœ¨<code>beforeLoad</code>é’©å­å‡½æ•°ä¸­åŠ¨æ€æ·»åŠ è·¯ç”±ï¼Œæ–¹ä¾¿åç»­è·¯ç”±çš„ç®¡ç†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beforeLoad</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; submenu &#125; = app.<span class="property">props</span>.<span class="property">data</span>;</span><br><span class="line">  <span class="keyword">const</span> &#123; entry &#125; = app;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> menu <span class="keyword">of</span> submenu) &#123;</span><br><span class="line">    router.<span class="title function_">addRouter</span>(<span class="string">&quot;BaseLayout&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">path</span>: menu.<span class="property">menuUrl</span>,</span><br><span class="line">      <span class="attr">name</span>: menu.<span class="property">menuUrl</span>,</span><br><span class="line">      <span class="attr">meta</span>: &#123; <span class="attr">title</span>: menu.<span class="property">menuName</span>, <span class="attr">isMicroApp</span>: <span class="literal">true</span>, entry &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="nginx-é…ç½®"><a href="#nginx-é…ç½®" class="headerlink" title="nginx é…ç½®"></a>nginx é…ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">location &#123;</span><br><span class="line">  charset utf-8;</span><br><span class="line">  root /var/www/html;</span><br><span class="line">  try files $uri $uri/ /index.html;</span><br><span class="line">&#125;</span><br><span class="line"># ä»£ç†åç«¯,éœ€è¦å°†å¾®åº”ç”¨çš„å…¨éƒ¨åç«¯éƒ½é…ç½®åˆ°è¿™é‡Œï¼Œå‡è®¾åç«¯åœ°å€æ˜¯http://192.168.1.29:38028</span><br><span class="line">location /backend &#123;</span><br><span class="line">  proxy_pass http://192.168.1.29:38028;</span><br><span class="line">&#125;</span><br><span class="line"># åå‘ä»£ç†å¾®åº”ç”¨ å‡è®¾å¾®åº”ç”¨çš„æœåŠ¡å™¨nginx Ip æ˜¯ 192.168.1.30</span><br><span class="line">location ^~ /micro-app1/ &#123;</span><br><span class="line">  proxy_pass http:// 192.168.1.30/micro-app1/;</span><br><span class="line">  proxy_set_header Host $host:$server_port;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Vue-å­åº”ç”¨"><a href="#Vue-å­åº”ç”¨" class="headerlink" title="Vue å­åº”ç”¨"></a>Vue å­åº”ç”¨</h1><p>ä¿®æ”¹ main.js é…åˆ qiankun æ¡†æ¶ <a href="https://qiankun.umijs.org/zh/guide/tutorial#vue-%E5%BE%AE%E5%BA%94%E7%94%A8">ä¹¾å¤å®˜ç½‘</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./public-path&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> instance = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">render</span>(<span class="params">props = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; container &#125; = props;</span><br><span class="line">  router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">base</span>: <span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span> ? <span class="string">&quot;/app1/&quot;</span> : <span class="string">&quot;/micro-app1/&quot;</span>,</span><br><span class="line">    <span class="comment">// /micro-app1 ä¸ entryä¿æŒä¸€è‡´ç¡®ä¿èƒ½é€šè¿‡ä¸»åº”ç”¨nginxç‹¬ç«‹è®¿é—®ã€‚</span></span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;history&quot;</span>,</span><br><span class="line">    routes,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  instance = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    router,</span><br><span class="line">    store,</span><br><span class="line">    <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  &#125;).$mount(container ? container.<span class="title function_">querySelector</span>(<span class="string">&quot;#app&quot;</span>) : <span class="string">&quot;#app&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‹¬ç«‹è¿è¡Œæ—¶</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span>) &#123;</span><br><span class="line">  <span class="title function_">render</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">bootstrap</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[vue] vue app bootstraped&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">mount</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[vue] props from main framework&quot;</span>, props);</span><br><span class="line">  <span class="comment">// props åŒ…å«æ³¨å†Œæ—¶å†™å…¥çš„å‚æ•°</span></span><br><span class="line">  <span class="title function_">render</span>(props);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">unmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  instance.$destroy();</span><br><span class="line">  instance.<span class="property">$el</span>.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  instance = <span class="literal">null</span>;</span><br><span class="line">  router = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// public-path.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span>) &#123;</span><br><span class="line">  __webpack_public_path__ = <span class="variable language_">window</span>.<span class="property">__INJECTED_PUBLIC_PATH_BY_QIANKUN__</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†å¾®åº”ç”¨çš„ cssï¼Œjs ç­‰æ–‡ä»¶èƒ½æ­£å¸¸è®¿é—®ï¼Œ<code>publicPath</code>éœ€è¦ä¸<code>entry</code>ä¸€è‡´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">publicPath</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&quot;development&quot;</span> ? <span class="string">&quot;/&quot;</span> : <span class="string">&quot;/micro-app1/&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åŒæ—¶æ‰“åŒ…åçš„æ–‡ä»¶éœ€è¦éƒ¨ç½²åœ¨äºŒçº§ç›®å½•<code>micro-app1</code>ï¼ˆä¸<code>entry</code>ä¸€è‡´ï¼‰ä¸‹ã€‚</p><h2 id="nginx-é…ç½®-1"><a href="#nginx-é…ç½®-1" class="headerlink" title="nginx é…ç½®"></a>nginx é…ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">location &#123;</span><br><span class="line">  # add_header Access-Control-Allow-Origin *;</span><br><span class="line">  # add_header Access-Control-Allow-Methods &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class="line">  # add_header Access-Control-Allow-Headers &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#x27;;</span><br><span class="line"></span><br><span class="line">  charset utf-8:</span><br><span class="line">  root var/www/html:</span><br><span class="line">  files $uri $uri/ /micro-app1/index.html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è®¿é—®"><a href="#è®¿é—®" class="headerlink" title="è®¿é—®"></a>è®¿é—®</h1><p><code>http://www.qianqian.com/app1/dashboard</code>æ˜¯åœ¨åˆ©ç”¨ä¹¾å¤æ¡†æ¶å†…åµŒå¾®åº”ç”¨<br><code>http://www.qianqian.com/micro-app1/dashboard</code>å¯ä»¥ç‹¬ç«‹è®¿é—®å¾®åº”ç”¨micro-app1</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-plusç¬”è®°</title>
      <link href="/2023/02/03/element-plus%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/02/03/element-plus%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="element-plus-ç»“æ„å’Œä¾èµ–"><a href="#element-plus-ç»“æ„å’Œä¾èµ–" class="headerlink" title="element-plus ç»“æ„å’Œä¾èµ–"></a>element-plus ç»“æ„å’Œä¾èµ–</h1><p>monorepositories</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">element-plus</span><br><span class="line">â”œâ”€â”€ CHANGELOG.en-US.md <span class="comment"># Changelog</span></span><br><span class="line">â”œâ”€â”€ CODE_OF_CONDUCT.md <span class="comment"># Contributor Covenant Code of Conduct</span></span><br><span class="line">â”œâ”€â”€ CONTRIBUTING.md <span class="comment"># How To Contribute</span></span><br><span class="line">â”œâ”€â”€ LICENSE</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ breakings <span class="comment">#</span></span><br><span class="line">â”œâ”€â”€ codecov.yml <span class="comment"># https://docs.codecov.com/docs/codecov-yaml</span></span><br><span class="line">â”œâ”€â”€ commitlint.config.js <span class="comment">#cz-git https://cz-git.qbb.sh/zh/cli/</span></span><br><span class="line">â”œâ”€â”€ commitlint.config.ts</span><br><span class="line">â”œâ”€â”€ docs</span><br><span class="line">â”œâ”€â”€ global.d.ts</span><br><span class="line">â”œâ”€â”€ internal <span class="comment">#æ„å»ºeslintç›¸å…³</span></span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ packages <span class="comment"># ä¸»ä½“ä»£ç </span></span><br><span class="line">â”œâ”€â”€ play <span class="comment"># ä½¿ç”¨ç»„ä»¶å®ç°demo</span></span><br><span class="line">â”œâ”€â”€ pnpm-lock.yaml</span><br><span class="line">â”œâ”€â”€ pnpm-workspace.yaml <span class="comment">#pnpm worksapce</span></span><br><span class="line">â”œâ”€â”€ scripts</span><br><span class="line">â”œâ”€â”€ ssr-testing</span><br><span class="line">â”œâ”€â”€ tsconfig.base.json <span class="comment"># tsconfig.*.json extends</span></span><br><span class="line">â”œâ”€â”€ tsconfig.json <span class="comment"># https://www.typescriptlang.org/tsconfig#extends</span></span><br><span class="line">â”œâ”€â”€ tsconfig.node.json <span class="comment"># tsconfig.json references</span></span><br><span class="line">â”œâ”€â”€ tsconfig.play.json <span class="comment"># tsconfig.json references</span></span><br><span class="line">â”œâ”€â”€ tsconfig.vite-config.json <span class="comment"># tsconfig.json references</span></span><br><span class="line">â”œâ”€â”€ tsconfig.vitest.json <span class="comment"># tsconfig.json references</span></span><br><span class="line">â”œâ”€â”€ tsconfig.web.json <span class="comment"># tsconfig.json references</span></span><br><span class="line">â”œâ”€â”€ typings <span class="comment"># ts å£°æ˜æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ vitest.config.ts <span class="comment"># Vitestæµ‹è¯•æ¡†æ¶</span></span><br><span class="line">â””â”€â”€ vitest.setup.ts <span class="comment"># Vitestæµ‹è¯•æ¡†æ¶</span></span><br></pre></td></tr></table></figure><p>éƒ¨åˆ† packages.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;peerDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span> <span class="comment">// workspace:https://pnpm.io/workspaces</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/constants&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/directives&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/hooks&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/icons-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/locale&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/test-utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/theme-chalk&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/tokens&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@floating-ui/dom&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@popperjs/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm:@sxzz/popperjs-es@^2.11.7&quot;</span><span class="punctuation">,</span> <span class="comment">//https://popper.js.org/ TOOLTIP &amp; POPOVER POSITIONING ENGINE</span></span><br><span class="line">    <span class="attr">&quot;@types/lodash&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.14.182&quot;</span><span class="punctuation">,</span> <span class="comment">//TypeScript definitions for Lo-Dash</span></span><br><span class="line">    <span class="attr">&quot;@types/lodash-es&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.17.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vueuse/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^9.1.0&quot;</span><span class="punctuation">,</span> <span class="comment">//Collection of essential Vue Composition Utilities for Vue 2 and 3</span></span><br><span class="line">    <span class="attr">&quot;async-validator&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.2.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dayjs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.11.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;escape-html&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lodash&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.17.21&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lodash-es&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.17.21&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lodash-unified&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;memoize-one&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.0.0&quot;</span><span class="punctuation">,</span> <span class="comment">//A memoization library which only remembers the latest invocation</span></span><br><span class="line">    <span class="attr">&quot;normalize-wheel-es&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.2.0&quot;</span> <span class="comment">//Mouse wheel normalization across multiple multiple browsers.</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@commitlint/cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^17.0.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@commitlint/config-conventional&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^17.0.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:^0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/build-utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:^0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@element-plus/eslint-config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;workspace:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@esbuild-kit/cjs-loader&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.2.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@pnpm/find-workspace-packages&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@pnpm/logger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@pnpm/types&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.4.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@types/fs-extra&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^9.0.13&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@types/gulp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@types/jsdom&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^16.2.14&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@types/node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@types/sass&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.43.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.3.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue-jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.3.10&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vitest/ui&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.16.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vue/test-utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vue/tsconfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;c8&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.11.3&quot;</span><span class="punctuation">,</span> <span class="comment">// æµ‹è¯•è¦†ç›–</span></span><br><span class="line">    <span class="attr">&quot;chalk&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.1&quot;</span><span class="punctuation">,</span> <span class="comment">// console style</span></span><br><span class="line">    <span class="attr">&quot;concurrently&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.2.2&quot;</span><span class="punctuation">,</span> <span class="comment">// å¹¶å‘æ‰§è¡Œç»ˆç«¯å‘½ä»¤</span></span><br><span class="line">    <span class="attr">&quot;consola&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.15.3&quot;</span><span class="punctuation">,</span> <span class="comment">//æ§åˆ¶å°ä¼˜é›…è¾“å‡ºè®°å½•</span></span><br><span class="line">    <span class="attr">&quot;csstype&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.6.20&quot;</span><span class="punctuation">,</span> <span class="comment">//css typeæ£€æŸ¥</span></span><br><span class="line">    <span class="attr">&quot;cz-git&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.3.8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;czg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.3.8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.18.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint-define-config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.5.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expect-type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.13.0&quot;</span><span class="punctuation">,</span> <span class="comment">//Compile-time tests for types</span></span><br><span class="line">    <span class="attr">&quot;fast-glob&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.11&quot;</span><span class="punctuation">,</span> <span class="comment">// è¿”å›æ»¡è¶³é€šé…ç¬¦å’Œæ¡ä»¶çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;husky&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jsdom&quot;</span><span class="punctuation">:</span> <span class="string">&quot;16.4.0&quot;</span><span class="punctuation">,</span> <span class="comment">//nodejsä¸‹ç”Ÿæˆdom</span></span><br><span class="line">    <span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^13.0.3&quot;</span><span class="punctuation">,</span> <span class="comment">//commit æ‰§è¡Œlint-staged</span></span><br><span class="line">    <span class="attr">&quot;npm-run-all&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.1.5&quot;</span><span class="punctuation">,</span> <span class="comment">// å¹¶è¡Œæˆ–é¡ºåºæ‰§è¡Œnpmå‘½ä»¤</span></span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.7.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;puppeteer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^17.1.3&quot;</span><span class="punctuation">,</span> <span class="comment">//headless chrome</span></span><br><span class="line">    <span class="attr">&quot;resize-observer-polyfill&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.5.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rimraf&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.2&quot;</span><span class="punctuation">,</span> <span class="comment">//A `rm -rf` util for nodejs</span></span><br><span class="line">    <span class="attr">&quot;sass&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.53.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ts-morph&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^14.0.0&quot;</span><span class="punctuation">,</span> <span class="comment">//AST</span></span><br><span class="line">    <span class="attr">&quot;tsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.6.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type-fest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.14.0&quot;</span><span class="punctuation">,</span> <span class="comment">//A collection of essential TypeScript types</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.7.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-element-plus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.4.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-vue-macros&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.11.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vitest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.12.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.37&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-tsc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.38.2&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç¬”è®°2022</title>
      <link href="/2022/12/27/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B02022/"/>
      <url>/2022/12/27/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B02022/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ¤æ–­è´¨æ•°çš„æ–¹æ³•"><a href="#åˆ¤æ–­è´¨æ•°çš„æ–¹æ³•" class="headerlink" title="åˆ¤æ–­è´¨æ•°çš„æ–¹æ³•"></a>åˆ¤æ–­è´¨æ•°çš„æ–¹æ³•</h1><h2 id="è¯¦ç»†å†…å®¹å‚è€ƒ-leetcode-é¢˜è§£"><a href="#è¯¦ç»†å†…å®¹å‚è€ƒ-leetcode-é¢˜è§£" class="headerlink" title="è¯¦ç»†å†…å®¹å‚è€ƒ leetcode é¢˜è§£"></a>è¯¦ç»†å†…å®¹å‚è€ƒ leetcode é¢˜è§£</h2><p><a href="https://leetcode.cn/problems/count-primes/solutions/507273/ji-shu-zhi-shu-by-leetcode-solution/">è®¡æ•°è´¨æ•°</a></p><h2 id="åˆ—ä¸¾ä¸‰ç§æ–¹æ³•"><a href="#åˆ—ä¸¾ä¸‰ç§æ–¹æ³•" class="headerlink" title="åˆ—ä¸¾ä¸‰ç§æ–¹æ³•"></a>åˆ—ä¸¾ä¸‰ç§æ–¹æ³•</h2><h3 id="æšä¸¾æ³•"><a href="#æšä¸¾æ³•" class="headerlink" title="æšä¸¾æ³•"></a>æšä¸¾æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">isPrime</span> = (<span class="params">x</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i * i &lt;= x; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (x % i == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> countPrimes = <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    ans += <span class="title function_">isPrime</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="åŸƒæ°ç­›"><a href="#åŸƒæ°ç­›" class="headerlink" title="åŸƒæ°ç­›"></a>åŸƒæ°ç­›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> countPrimes = <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> isPrime = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isPrime[i]) &#123;</span><br><span class="line">      ans += <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = i * i; j &lt; n; j += i) &#123;</span><br><span class="line">        isPrime[j] = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="çº¿æ€§ç­›"><a href="#çº¿æ€§ç­›" class="headerlink" title="çº¿æ€§ç­›"></a>çº¿æ€§ç­›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> countPrimes = <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> isPrime = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">const</span> primes = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isPrime[i]) &#123;</span><br><span class="line">      primes.<span class="title function_">push</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; primes.<span class="property">length</span> &amp;&amp; i * primes[j] &lt; n; ++j) &#123;</span><br><span class="line">      isPrime[i * primes[j]] = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (i % primes[j] === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> primes.<span class="property">length</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æœ€å¤§å…¬çº¦æ•°"><a href="#æœ€å¤§å…¬çº¦æ•°" class="headerlink" title="æœ€å¤§å…¬çº¦æ•°"></a>æœ€å¤§å…¬çº¦æ•°</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">gcd</span> = (<span class="params">num1, num2</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">while</span> (num2 !== <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> temp = num1;</span><br><span class="line">    num1 = num2;</span><br><span class="line">    num2 = temp % num2;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> num1;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®"><a href="#æ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®" class="headerlink" title="æ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®"></a>æ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// åè½¬æ•°å­—</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rev</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> temp = num,</span><br><span class="line">    j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (temp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    j = j * <span class="number">10</span> + (temp % <span class="number">10</span>);</span><br><span class="line">    temp = <span class="title class_">Math</span>.<span class="title function_">floor</span>(temp / <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> countNicePairs = <span class="keyword">function</span> (<span class="params">nums</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="variable constant_">MOD</span> = <span class="number">1000000007</span>;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> h = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">of</span> nums) &#123;</span><br><span class="line">    <span class="keyword">let</span> temp = i,</span><br><span class="line">      j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (temp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      j = j * <span class="number">10</span> + (temp % <span class="number">10</span>);</span><br><span class="line">      temp = <span class="title class_">Math</span>.<span class="title function_">floor</span>(temp / <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¯å¢åŠ ä¸€ä¸ªç›¸åŒçš„åˆ™ä¸åŸå…ˆå·²å­˜åœ¨çš„æ•°é‡ï¼ˆh.get(i - j)ï¼‰é…å¯¹ ,ä»è€Œä¸ä½¿ç”¨æ’åˆ—ç»„åˆå°±å¯æ±‚ç»“æœ</span></span><br><span class="line">    res = (res + (h.<span class="title function_">get</span>(i - j) || <span class="number">0</span>)) % <span class="variable constant_">MOD</span>;</span><br><span class="line">    h.<span class="title function_">set</span>(i - j, (h.<span class="title function_">get</span>(i - j) || <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å·¥å…·é“¾</title>
      <link href="/2022/09/27/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7%E9%93%BE/"/>
      <url>/2022/09/27/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¼–è¯‘å™¨"><a href="#ç¼–è¯‘å™¨" class="headerlink" title="ç¼–è¯‘å™¨"></a>ç¼–è¯‘å™¨</h1><p>babel tsc esbuild swc</p><blockquote><p>æ–‡ç« :</p><ol><li><a href="http://mp.weixin.qq.com/s?__biz=MzAxODE2MjM1MA==&mid=2651609107&idx=1&sn=1a9852c5b75c93a2cfe1cc75976fbc7e&chksm=80228fd2b75506c44d2f94f73f9652f651c5d4365301e4d373dbc3c0f2184bdae32ba1098bc2&mpshare=1&scene=24&srcid=0927fGiJPN57Wmt8kjnY0eXf&sharer_sharetime=1664263365557&sharer_shareid=bbb30e4f9eba4adc52529e0ffaaacfa9#rd">2022ä½¿ç”¨çš„å·¥å…·é“¾</a></li><li><a href="https://mp.weixin.qq.com/s/U7nTo5ryv52lzfg_wP5BnQ">babel vs tsc</a></li></ol></blockquote><h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h1 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h1>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯-ç¯å¢ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vite </tag>
            
            <tag> webpack </tag>
            
            <tag> esbuild </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>egg</title>
      <link href="/2022/09/24/egg/"/>
      <url>/2022/09/24/egg/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h1><h2 id="csrf"><a href="#csrf" class="headerlink" title="csrf"></a>csrf</h2><p>postman csrf æŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/config.default.js</span></span><br><span class="line">config.<span class="property">security</span> = &#123;</span><br><span class="line">  <span class="attr">csrf</span>: &#123;</span><br><span class="line">    <span class="attr">enable</span>: <span class="literal">false</span>, <span class="comment">// å…³é—­csrf</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="egg-mysql"><a href="#egg-mysql" class="headerlink" title="egg-mysql"></a>egg-mysql</h1><p><a href="https://www.eggjs.org/zh-CN/tutorials/mysql">docs</a><br>ä¸€ã€å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i egg-mysql --save-dev</span><br></pre></td></tr></table></figure><p>äºŒã€é…ç½® Plugin</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/config.default.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function"><span class="params">appInfo</span> =&gt;</span> &#123;</span><br><span class="line">  config.<span class="property">mysql</span> = &#123;</span><br><span class="line">    <span class="attr">client</span>: &#123;</span><br><span class="line">      <span class="attr">host</span>: <span class="string">&#x27;192.168.2.3&#x27;</span>,</span><br><span class="line">      <span class="attr">port</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">      <span class="attr">user</span>: <span class="string">&#x27;egg&#x27;</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">&#x27;egg&#x27;</span>,</span><br><span class="line">      <span class="attr">database</span>: <span class="string">&#x27;egg&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">app</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">agent</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// add your user config here</span></span><br><span class="line">  <span class="keyword">const</span> userConfig = &#123;</span><br><span class="line">    <span class="comment">// myAppName: &#x27;egg&#x27;,</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...config,</span><br><span class="line">    ...userConfig</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h1><p><a href="https://www.eggjs.org/zh-CN/tutorials/sequelize">egg docs</a><br><a href="https://sequelize.org/">Sequelize docs</a><br>ä¸€ã€egg-sequelize mysql2 å®ç° ORM æ¡†æ¶<br>äºŒã€Migrationsï¼ˆSQL è„šæœ¬ ç‰ˆæœ¬ç®¡ç†ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦å®‰è£… sequelize-cli</span></span><br><span class="line">npm install --save-dev sequelize-cli</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ package.json ä¸­ é…ç½® scripts</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;sequelize&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sequelize&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run sequelize -- db:migrate --<span class="built_in">env</span> development</span><br><span class="line"><span class="comment"># ç›¸å½“äº npx sequelize db:migrate --env development</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> egg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql8</title>
      <link href="/2022/09/24/Mysql8/"/>
      <url>/2022/09/24/Mysql8/</url>
      
        <content type="html"><![CDATA[<h1 id="docker-è¿è¡Œ-mysql8"><a href="#docker-è¿è¡Œ-mysql8" class="headerlink" title="docker è¿è¡Œ mysql8"></a>docker è¿è¡Œ mysql8</h1><p><a href="https://www.jianshu.com/p/2f4bcf5bf418">ç®€ä¹¦åšå®¢</a></p><h1 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h1><p>å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br>usernameï¼šä½ å°†åˆ›å»ºçš„ç”¨æˆ·å<br>hostï¼šæŒ‡å®šè¯¥ç”¨æˆ·åœ¨å“ªä¸ªä¸»æœºä¸Šå¯ä»¥ç™»é™†ï¼Œå¦‚æœæ˜¯æœ¬åœ°ç”¨æˆ·å¯ç”¨ localhostï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦%<br>passwordï¼šè¯¥ç”¨æˆ·çš„ç™»é™†å¯†ç ï¼Œå¯†ç å¯ä»¥ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯¥ç”¨æˆ·å¯ä»¥ä¸éœ€è¦å¯†ç ç™»é™†æœåŠ¡å™¨<br>ä¾‹å­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;dog&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;192.168.1.101_&#x27;</span> IDENDIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ:"></a>æˆæƒ:</h1><p>å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> privileges <span class="keyword">ON</span> databasename.tablename <span class="keyword">TO</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜:<br>privilegesï¼šç”¨æˆ·çš„æ“ä½œæƒé™ï¼Œå¦‚ SELECTï¼ŒINSERTï¼ŒUPDATE ç­‰ï¼Œå¦‚æœè¦æˆäºˆæ‰€çš„æƒé™åˆ™ä½¿ç”¨ ALL<br>databasenameï¼šæ•°æ®åº“å<br>tablenameï¼šè¡¨åï¼Œå¦‚æœè¦æˆäºˆè¯¥ç”¨æˆ·å¯¹æ‰€æœ‰æ•°æ®åº“å’Œè¡¨çš„ç›¸åº”æ“ä½œæƒé™åˆ™å¯ç”¨<em>è¡¨ç¤ºï¼Œå¦‚</em>.*<br>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span> <span class="keyword">ON</span> test.user <span class="keyword">TO</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> maindataplus.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„:<br>ç”¨ä»¥ä¸Šå‘½ä»¤æˆæƒçš„ç”¨æˆ·ä¸èƒ½ç»™å…¶å®ƒç”¨æˆ·æˆæƒï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥æˆæƒï¼Œç”¨ä»¥ä¸‹å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> privileges <span class="keyword">ON</span> databasename.tablename <span class="keyword">TO</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®ä¸æ›´æ”¹ç”¨æˆ·å¯†ç "><a href="#è®¾ç½®ä¸æ›´æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="è®¾ç½®ä¸æ›´æ”¹ç”¨æˆ·å¯†ç "></a>è®¾ç½®ä¸æ›´æ”¹ç”¨æˆ·å¯†ç </h1><p>å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> PASSWORD <span class="keyword">FOR</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span> <span class="operator">=</span> PASSWORD(<span class="string">&#x27;newpassword&#x27;</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å½“å‰ç™»é™†ç”¨æˆ·ç”¨:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(&quot;newpassword&quot;);</span><br></pre></td></tr></table></figure><p>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> PASSWORD <span class="keyword">FOR</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="operator">=</span> PASSWORD(&quot;123456&quot;);</span><br></pre></td></tr></table></figure><h1 id="æ’¤é”€ç”¨æˆ·æƒé™"><a href="#æ’¤é”€ç”¨æˆ·æƒé™" class="headerlink" title="æ’¤é”€ç”¨æˆ·æƒé™"></a>æ’¤é”€ç”¨æˆ·æƒé™</h1><p>å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> privilege <span class="keyword">ON</span> databasename.tablename <span class="keyword">FROM</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¯´æ˜:<br>privilege, databasename, tablenameï¼šåŒæˆæƒéƒ¨åˆ†</p><p>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;pig&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„:<br>å‡å¦‚ä½ åœ¨ç»™ç”¨æˆ·â€˜pigâ€˜@â€™%â€™æˆæƒçš„æ—¶å€™æ˜¯è¿™æ ·çš„ï¼ˆæˆ–ç±»ä¼¼çš„ï¼‰ï¼š<code>GRANT SELECT ON test.user TO &#39;pig&#39;@&#39;%&#39;</code>ï¼Œåˆ™åœ¨ä½¿ç”¨<code>REVOKE SELECT ON *.* FROM &#39;pig&#39;@&#39;%&#39;;</code> å‘½ä»¤å¹¶ä¸èƒ½æ’¤é”€è¯¥ç”¨æˆ·å¯¹ test æ•°æ®åº“ä¸­ user è¡¨çš„ SELECT æ“ä½œã€‚ç›¸åï¼Œå¦‚æœæˆæƒä½¿ç”¨çš„æ˜¯<code>GRANT SELECT ON *.* TO &#39;pig&#39;@&#39;%&#39;;</code> åˆ™<code>REVOKE SELECT ON test.user FROM &#39;pig&#39;@&#39;%&#39;;</code>å‘½ä»¤ä¹Ÿä¸èƒ½æ’¤é”€è¯¥ç”¨æˆ·å¯¹ test æ•°æ®åº“ä¸­ user è¡¨çš„ Select æƒé™ã€‚</p><p>å…·ä½“ä¿¡æ¯å¯ä»¥ç”¨å‘½ä»¤<code>SHOW GRANTS FOR &#39;pig&#39;@&#39;%&#39;;</code> æŸ¥çœ‹ã€‚</p><h1 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h1><p>å‘½ä»¤:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span>;</span><br></pre></td></tr></table></figure><p><a href="http://blog.csdn.net/piaocoder/article/details/53704126">å‚è€ƒæ–‡ç« </a></p><h1 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h1><h2 id="MySQL-8-caching-sha2-password"><a href="#MySQL-8-caching-sha2-password" class="headerlink" title="MySQL 8 caching_sha2_password"></a>MySQL 8 caching_sha2_password</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>,host,plugin <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;egg&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">user</span> <span class="operator">|</span> host <span class="operator">|</span> plugin                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> egg  <span class="operator">|</span> <span class="operator">%</span>    <span class="operator">|</span> caching_sha2_password <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+-----------------------+</span></span><br></pre></td></tr></table></figure><div class="note danger morden flat"><p>Client does not support authentication protocol requested by server; consider upgrading MySQL client;</p></div><div class="note success morden flat"><p>è§£å†³</p></div><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å°† caching_sha2_password æ”¹ä¸º mysql_native_password</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;egg&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;egg&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="Public-Key-Retrieval-is-not-allowed"><a href="#Public-Key-Retrieval-is-not-allowed" class="headerlink" title="Public Key Retrieval is not allowed"></a>Public Key Retrieval is not allowed</h2><div class="note success morden flat"><p>åœ¨ JDBC è¿æ¥ä¸²ä¸­åŠ å…¥ allowPublicKeyRetrieval=true å‚æ•°ï¼›</p></div>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„é¢è¯•é¢˜</title>
      <link href="/2022/08/20/%E6%88%91%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
      <url>/2022/08/20/%E6%88%91%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="1-é¢è¯•è‡ªæˆ‘ä»‹ç»"><a href="#1-é¢è¯•è‡ªæˆ‘ä»‹ç»" class="headerlink" title="1. é¢è¯•è‡ªæˆ‘ä»‹ç»"></a>1. é¢è¯•è‡ªæˆ‘ä»‹ç»</h1><blockquote><p>â€œé¢è¯•å®˜æ‚¨å¥½ï¼Œéå¸¸è£å¹¸å‚ä¸è´µå…¬å¸**èŒä½çš„åº”è˜ï¼Œä¸‹é¢æˆ‘ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘çš„ä¸ªäººæƒ…å†µï¼ŒåŸºæœ¬ä¿¡æ¯ä¹‹ç±»çš„ç®€å†ä¸Šéƒ½æœ‰ï¼Œå°±ä¸å†é‡å¤ï¼Œ</p><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹ä¹‹å‰çš„å·¥ä½œç»éªŒâ€¦â€¦ï¼ˆæŒ‘ä¸€äº›è·Ÿåº”è˜å²—ä½æœ‰é“¾æ¥çš„å†…å®¹è¯´ï¼Œå¦‚æœæœ‰å·¥ä½œè£èª‰ï¼Œåƒä¸‡ä¸è¦æ¼æ‰ï¼‰â€¦â€¦ï¼Œ</p><p>ä¹‹æ‰€ä»¥ç¦»å¼€ä¸Šä¸€å®¶å…¬å¸æ˜¯å‡ºäºâ€¦â€¦è€ƒè™‘ï¼ˆç¦»èŒç†ç”±è¦æ­£å½“ï¼Œå°½å¯èƒ½ä»èŒä¸šå‘å±•çš„è§’åº¦å‡ºå‘ï¼‰â€¦â€¦</p><p>é€šè¿‡æ¸ é“å…³æ³¨åˆ°è´µå…¬å¸å²—ä½çš„æ‹›è˜ä¿¡æ¯ï¼Œè¯¥èŒä½è·Ÿæˆ‘æœªæ¥çš„èŒä¸šå‘å±•ç›¸å¯¹å¥‘åˆï¼Œè€Œä¸”è´µå…¬å¸çš„ä¸šåŠ¡ï¼ˆæˆ–è€…ä¼ä¸šå®åŠ›ã€è¡Œä¸šå£ç¢‘ã€ä¼ä¸šæ–‡åŒ–ç­‰ï¼‰å¯¹æˆ‘éƒ½éå¸¸æœ‰å¸å¼•åŠ›ï¼Œéå¸¸æ¸´æœ›èƒ½å¤Ÿè¿›å…¥è´µå…¬å¸å‘å±•â€¦â€¦</p><p>æˆ‘ä¸ªäººçš„åŸºæœ¬æƒ…å†µæ˜¯ï¼ˆå—æ•™è‚²æƒ…å†µã€å©šè‚²ã€ä½æ‰€ã€å®¶åº­ç®€å•æƒ…å†µï¼‰ï¼Œé—²æš‡ä¹‹ä½™ï¼Œæˆ‘ä¸€èˆ¬ä¼šåšäº›**äº‹æƒ…ï¼ˆæœ‰æ„ä¹‰çš„ï¼‰â€¦â€¦</p><p>æˆ–è®¸åœ¨æ‰€æœ‰çš„æ±‚èŒè€…å½“ä¸­ï¼Œæˆ‘ä¸æ˜¯æœ€ä¼˜ç§€çš„ï¼Œä½†å¦‚æœè´µå…¬å¸èƒ½å¤Ÿç»™æˆ‘è¿™ä¸ªå·¥ä½œæœºä¼šï¼Œæˆ‘æœ‰ä¿¡å¿ƒï¼Œä¹Ÿæœ‰å†³å¿ƒåšå¥½è¿™ä»½å·¥ä½œï¼Œä»¥ä¸Šæ˜¯æˆ‘çš„ä¸ªäººåŸºæœ¬æƒ…å†µï¼Œå¸Œæœ›ä»Šå¤©è‡ªå·±é¢è¯•æœ‰å¥½çš„è¡¨ç°ï¼Œæœªæ¥æœ‰å¹¸ä¸è¯¸ä½é¢è¯•å®˜å…±äº‹ï¼Œä¹Ÿé¢„ç¥å„ä½åº¦è¿‡ç¾å¥½çš„ä¸€å¤©ã€‚â€</p></blockquote><h1 id="1-CSS"><a href="#1-CSS" class="headerlink" title="1. CSS"></a>1. CSS</h1><h2 id="position-å±æ€§çš„ä»‹ç»"><a href="#position-å±æ€§çš„ä»‹ç»" class="headerlink" title="position å±æ€§çš„ä»‹ç»"></a>position å±æ€§çš„ä»‹ç»</h2><blockquote><p>1ã€absolute<br>2ã€relative<br>3ã€fixed<br>4ã€sticky</p></blockquote><h2 id="flex-å¸ƒå±€çš„ä½¿ç”¨"><a href="#flex-å¸ƒå±€çš„ä½¿ç”¨" class="headerlink" title="flex å¸ƒå±€çš„ä½¿ç”¨"></a>flex å¸ƒå±€çš„ä½¿ç”¨</h2><h2 id="å‚ç›´æ°´å¹³å±…ä¸­"><a href="#å‚ç›´æ°´å¹³å±…ä¸­" class="headerlink" title="å‚ç›´æ°´å¹³å±…ä¸­"></a>å‚ç›´æ°´å¹³å±…ä¸­</h2><h1 id="2-js"><a href="#2-js" class="headerlink" title="2. js"></a>2. js</h1><h2 id="Qï¼šæ·±æ‹·è´æµ…æ‹·è´"><a href="#Qï¼šæ·±æ‹·è´æµ…æ‹·è´" class="headerlink" title="Qï¼šæ·±æ‹·è´æµ…æ‹·è´"></a>Qï¼šæ·±æ‹·è´æµ…æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">oldObj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (oldObj == <span class="literal">null</span>) <span class="keyword">return</span> oldObj;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> oldObj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> oldObj;</span><br><span class="line">  <span class="keyword">var</span> newObj = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(oldObj) ? [] : &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> oldObj) &#123;</span><br><span class="line">    newObj[key] = <span class="title function_">deepClone</span>(oldObj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Q-ç­–ç•¥æ¨¡å¼"><a href="#Q-ç­–ç•¥æ¨¡å¼" class="headerlink" title="Q: ç­–ç•¥æ¨¡å¼"></a>Q: ç­–ç•¥æ¨¡å¼</h2><h2 id="Q-åŸå‹é“¾"><a href="#Q-åŸå‹é“¾" class="headerlink" title="Q: åŸå‹é“¾"></a>Q: åŸå‹é“¾</h2><h2 id="Q-ç»§æ‰¿çš„æ–¹å¼"><a href="#Q-ç»§æ‰¿çš„æ–¹å¼" class="headerlink" title="Q: ç»§æ‰¿çš„æ–¹å¼"></a>Q: ç»§æ‰¿çš„æ–¹å¼</h2><p><a href="https://segmentfault.com/a/1190000016708006">å‚è€ƒæ–‡ç« </a></p><h2 id="Q-ä½œç”¨åŸŸé“¾"><a href="#Q-ä½œç”¨åŸŸé“¾" class="headerlink" title="Q: ä½œç”¨åŸŸé“¾"></a>Q: ä½œç”¨åŸŸé“¾</h2><p><a href="https://github.com/mqyqingfeng/Blog/issues/6">å‚è€ƒæ–‡ç« </a></p><h2 id="Q-é—­åŒ…"><a href="#Q-é—­åŒ…" class="headerlink" title="Q: é—­åŒ…"></a>Q: é—­åŒ…</h2><h2 id="Q-å‡½æ•°çš„è‡ªè°ƒæ˜¯ä¸æ˜¯é—­åŒ…"><a href="#Q-å‡½æ•°çš„è‡ªè°ƒæ˜¯ä¸æ˜¯é—­åŒ…" class="headerlink" title="Q: å‡½æ•°çš„è‡ªè°ƒæ˜¯ä¸æ˜¯é—­åŒ…"></a>Q: å‡½æ•°çš„è‡ªè°ƒæ˜¯ä¸æ˜¯é—­åŒ…</h2><h2 id="Q-TS-çš„å¥½å¤„"><a href="#Q-TS-çš„å¥½å¤„" class="headerlink" title="Q: TS çš„å¥½å¤„"></a>Q: TS çš„å¥½å¤„</h2><h2 id="Q"><a href="#Q" class="headerlink" title="Q:"></a>Q:</h2><h1 id="3-vue"><a href="#3-vue" class="headerlink" title="3. vue"></a>3. vue</h1><h2 id="vue3-å’Œ-vue2-çš„åŒºåˆ«"><a href="#vue3-å’Œ-vue2-çš„åŒºåˆ«" class="headerlink" title="vue3 å’Œ vue2 çš„åŒºåˆ«"></a>vue3 å’Œ vue2 çš„åŒºåˆ«</h2><h2 id="Q-v-for-ä¸­-key-çš„ä½œç”¨"><a href="#Q-v-for-ä¸­-key-çš„ä½œç”¨" class="headerlink" title="Q:v-for ä¸­ key çš„ä½œç”¨"></a>Q:v-for ä¸­ key çš„ä½œç”¨</h2><blockquote><p>1ã€key å±æ€§ä¸»è¦ç”¨åœ¨ Vue çš„è™šæ‹Ÿ DOM ç®—æ³•ï¼Œåœ¨æ–°æ—§ nodes å¯¹æ¯”æ—¶è¾¨è¯† VNodes<br>2ã€å¦‚æœä¸ä½¿ç”¨ keyï¼ŒVue ä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•å°±åœ°ä¿®æ”¹/å¤ç”¨ç›¸åŒç±»å‹å…ƒç´ çš„ç®—æ³•ï¼›<br>è€Œä½¿ç”¨ key æ—¶ï¼Œå®ƒä¼šåŸºäº key çš„å˜åŒ–é‡æ–°æ’åˆ—å…ƒç´ é¡ºåºï¼Œå¹¶ä¸”ä¼šç§»é™¤/é”€æ¯ key ä¸å­˜åœ¨çš„å…ƒç´ ã€‚é€»è¾‘åœ¨<code>/runtime-core/renderer.ts</code>æ–‡ä»¶ä¸­ã€‚<br>3ã€æ—  Key ä¼šæ‰§è¡Œ<code>patchChildren-&gt;patchUnkeyedChildren</code>ï¼Œä»å‰åˆ°åéå†æ–° Vnode ä¸æ—§ Vnodeã€‚å¤šå‡ºæ¥æ—§ mountï¼Œå°‘äº†å°± unmountã€‚<br>4ã€æœ‰ Key ä¼šæ‰§è¡Œ<code>patchChildren-&gt;patchkeyedChildren</code> &gt; &emsp;&emsp;4.1 å–æ–°æ—§ VNode ä¸­é•¿åº¦å°çš„æ¥éå† patchã€‚åˆ°ä¸¤ä¸ª VNode çš„ type å’Œ key ä¸ä¸€è‡´è·³å‡ºå¾ªç¯ã€‚<br>&emsp;&emsp;4.2 ä»åå¾€å‰éå† patchã€‚åˆ°ä¸¤ä¸ª VNode çš„ type å’Œ key ä¸ä¸€è‡´è·³å‡ºå¾ªç¯ã€‚<br>&emsp;&emsp;4.3 å¤šå‡ºæ¥è¿›è¡Œ mount<br>&emsp;&emsp;4.4 å°‘äº†è¿›è¡Œ unmount<br>&emsp;&emsp;4.5 å‰©ä½™æƒ…å†µç±»ä¼¼é¡ºåºæ‰“ä¹±ï¼Œåšä¸€äº›æ›´å¤šçš„è¾¹ç•Œåˆ¤æ–­</p></blockquote><h2 id="Q-å“åº”å¼åŸç†"><a href="#Q-å“åº”å¼åŸç†" class="headerlink" title="Q: å“åº”å¼åŸç†"></a>Q: å“åº”å¼åŸç†</h2><h2 id="Q-ç”Ÿå‘½å‘¨æœŸ"><a href="#Q-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Q: ç”Ÿå‘½å‘¨æœŸ"></a>Q: ç”Ÿå‘½å‘¨æœŸ</h2><h1 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h1><h2 id="Q-echarts-çš„å®ç°"><a href="#Q-echarts-çš„å®ç°" class="headerlink" title="Q: echarts çš„å®ç°"></a>Q: echarts çš„å®ç°</h2><p><code>init</code> <code>setOption</code> <code>resize</code>ç­‰ API</p><h2 id="canvas-åŸç”Ÿçš„ä½¿ç”¨"><a href="#canvas-åŸç”Ÿçš„ä½¿ç”¨" class="headerlink" title="canvas åŸç”Ÿçš„ä½¿ç”¨"></a>canvas åŸç”Ÿçš„ä½¿ç”¨</h2><h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h2 id="Q-webworker-åœ¨-webpack-çš„ä½¿ç”¨"><a href="#Q-webworker-åœ¨-webpack-çš„ä½¿ç”¨" class="headerlink" title="Q: webworker åœ¨ webpack çš„ä½¿ç”¨"></a>Q: webworker åœ¨ webpack çš„ä½¿ç”¨</h2><blockquote><p>å¯ä»¥åœ¨å°† worker æ”¾åœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ã€‚é…ç½® loader æŒ‡å‘è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ js æ–‡ä»¶</p></blockquote><h2 id="Q-åšè¿‡ä»€ä¹ˆæ‰“åŒ…é…ç½®"><a href="#Q-åšè¿‡ä»€ä¹ˆæ‰“åŒ…é…ç½®" class="headerlink" title="Q: åšè¿‡ä»€ä¹ˆæ‰“åŒ…é…ç½®"></a>Q: åšè¿‡ä»€ä¹ˆæ‰“åŒ…é…ç½®</h2><h1 id="å…¶ä»–å¼€æºç»„ä»¶"><a href="#å…¶ä»–å¼€æºç»„ä»¶" class="headerlink" title="å…¶ä»–å¼€æºç»„ä»¶"></a>å…¶ä»–å¼€æºç»„ä»¶</h1><h2 id="Q-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æœ‰ç”¨è¿‡å—"><a href="#Q-å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æœ‰ç”¨è¿‡å—" class="headerlink" title="Q: å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æœ‰ç”¨è¿‡å—"></a>Q: å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æœ‰ç”¨è¿‡å—</h2><h2 id="Q-wangEditor-çš„å®ç°"><a href="#Q-wangEditor-çš„å®ç°" class="headerlink" title="Q: wangEditor çš„å®ç°"></a>Q: wangEditor çš„å®ç°</h2>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptåŸºç¡€</title>
      <link href="/2022/08/11/TypeScript%E5%9F%BA%E7%A1%80/"/>
      <url>/2022/08/11/TypeScript%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="1-å‡½æ•°"><a href="#1-å‡½æ•°" class="headerlink" title="1.å‡½æ•°"></a>1.å‡½æ•°</h1><h2 id="1-1-é‡è½½"><a href="#1-1-é‡è½½" class="headerlink" title="1.1 é‡è½½"></a>1.1 é‡è½½</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1: <span class="built_in">number</span>, num2: <span class="built_in">number</span></span>): <span class="built_in">number</span>; <span class="comment">// æ²¡å‡½æ•°ä½“</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1: <span class="built_in">string</span>, num2: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1: <span class="built_in">any</span>, num2: <span class="built_in">any</span></span>): <span class="built_in">any</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> num1 === <span class="string">&#x27;string&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> num2 === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1.<span class="property">length</span> + num2.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">add</span>(<span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> result2 = <span class="title function_">add</span>(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;cba&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result2)</span><br></pre></td></tr></table></figure><h1 id="2-Type"><a href="#2-Type" class="headerlink" title="2.Type"></a>2.Type</h1><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> type A = &#123;</span></span><br><span class="line"><span class="comment">  aa:string</span></span><br><span class="line"><span class="comment">  Bb:string</span></span><br><span class="line"><span class="comment">  cc_Dd:strng</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> type B = &#123;</span></span><br><span class="line"><span class="comment">  aa:string</span></span><br><span class="line"><span class="comment">  bb:string</span></span><br><span class="line"><span class="comment">  ccDd:string</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> å†™ä¸€ä¸ªcamelç±»å‹å®Œæˆè¿™ç§è½¬æ¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> A = &#123;</span><br><span class="line">  <span class="attr">aa</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="title class_">Bb</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">cc_Dd</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">cc_dd_ee</span>: <span class="built_in">boolean</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CamelCase</span>&lt;<span class="title class_">Str</span> <span class="keyword">extends</span> <span class="built_in">string</span>&gt; =</span><br><span class="line">  <span class="title class_">Str</span> <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer left&#125;</span>_<span class="subst">$&#123;infer rest&#125;</span>`</span> ? </span><br><span class="line">  <span class="string">`<span class="subst">$&#123;left&#125;</span><span class="subst">$&#123;rest <span class="keyword">extends</span> <span class="string">`<span class="subst">$&#123;infer left1&#125;</span>_<span class="subst">$&#123;infer rest2&#125;</span>`</span> ? CamelCase&lt;Capitalize&lt;<span class="built_in">string</span> &amp; rest&gt;&gt; : Capitalize&lt;<span class="built_in">string</span> &amp; rest&gt;&#125;</span>`</span></span><br><span class="line">  : <span class="title class_">Lowercase</span>&lt;<span class="built_in">string</span> &amp; <span class="title class_">Str</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> camel&lt;obj&gt; = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> keyof obj <span class="keyword">as</span> <span class="title class_">CamelCase</span>&lt;<span class="built_in">string</span> &amp; key&gt;]: obj[key]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> res = camel&lt;A&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jenkins å®ç°hexoéƒ¨ç½²è‡³github.io</title>
      <link href="/2022/06/07/jenkins-%E5%AE%9E%E7%8E%B0%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2/"/>
      <url>/2022/06/07/jenkins-%E5%AE%9E%E7%8E%B0%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h1 id="1ã€å®‰è£…nodejs"><a href="#1ã€å®‰è£…nodejs" class="headerlink" title="1ã€å®‰è£…nodejs"></a>1ã€å®‰è£…nodejs</h1><p>å‚è€ƒä¹‹å‰çš„æ–‡ç«  <a href="https://lwzcode.github.io/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/">ubuntu18.04åˆæ­¥æ­å»ºnodejså’Œmariadb</a></p><h1 id="2ã€é…ç½®jdkç¯å¢ƒå˜é‡"><a href="#2ã€é…ç½®jdkç¯å¢ƒå˜é‡" class="headerlink" title="2ã€é…ç½®jdkç¯å¢ƒå˜é‡"></a>2ã€é…ç½®jdkç¯å¢ƒå˜é‡</h1><p>jenkinså’Œjdkæ˜¯æˆ‘ä»åŒäº‹æœåŠ¡å™¨é‡Œææ¥çš„ã€‚çœäº‹äº†ã€‚</p><p><code>vim /etc/profile</code>åœ¨æœ€ä¸‹é¢æ·»åŠ è¿™äº›é…ç½®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/home/jdk1.8</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE_HOME</span>/lib:<span class="variable">$CLASSPATH</span></span><br><span class="line"><span class="built_in">export</span> JAVA_PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_PATH</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºï¼Œæ‰§è¡Œ<code>source /etc/profile</code></p><h1 id="3ã€è¿›å…¥jenkinsç›®å½•"><a href="#3ã€è¿›å…¥jenkinsç›®å½•" class="headerlink" title="3ã€è¿›å…¥jenkinsç›®å½•"></a>3ã€è¿›å…¥jenkinsç›®å½•</h1><p>æ‰§è¡Œ<code>./start.sh</code>å³å¯åŠ¨jenkins<br>ä¹Ÿå¯ä»¥å¯ä»¥æ‰“å¼€<code>start.sh</code>ä¿®æ”¹é…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep jenkins | grep -v grep | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs --no-run-if-empty <span class="built_in">kill</span> -9</span><br><span class="line"><span class="built_in">nohup</span> java -jar -Xmx256M jenkins.war   --httpPort=8777 &gt; start.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç è¿›å…¥ï¼Œé€‰æ‹©å®‰è£…éœ€è¦çš„æ’ä»¶</p><h1 id="4ã€é…ç½®githubçš„å…¬é’¥"><a href="#4ã€é…ç½®githubçš„å…¬é’¥" class="headerlink" title="4ã€é…ç½®githubçš„å…¬é’¥"></a>4ã€é…ç½®githubçš„å…¬é’¥</h1><p>ç”¨äºæ‰§è¡Œ<code>npx hexo d</code>æ—¶å¯ä»¥æˆåŠŸæ¨é€åˆ°githubä»“åº“<br><a href="https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/testing-your-ssh-connection">æµ‹è¯•å…¬é’¥é…ç½®æ˜¯å¦æˆåŠŸ</a><br>centos çš„ç§é’¥åœ¨ <code>/root/.ssh/</code></p><h1 id="5ã€åœ¨jenkinsä¸­æ–°å»ºé¡¹ç›®"><a href="#5ã€åœ¨jenkinsä¸­æ–°å»ºé¡¹ç›®" class="headerlink" title="5ã€åœ¨jenkinsä¸­æ–°å»ºé¡¹ç›®"></a>5ã€åœ¨jenkinsä¸­æ–°å»ºé¡¹ç›®</h1><p>è¾“å…¥ä»»åŠ¡åç§°ï¼Œé€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®</p><h1 id="6ã€é…ç½®é¡¹ç›®"><a href="#6ã€é…ç½®é¡¹ç›®" class="headerlink" title="6ã€é…ç½®é¡¹ç›®"></a>6ã€é…ç½®é¡¹ç›®</h1><p>é…ç½®gitï¼Œé…ç½®è´¦æˆ·å¯†ç æˆ–è€…ä½¿ç”¨å¯†é’¥é“¾æ¥ä»“åº“<br>å¢åŠ æ„å»ºæ‰§è¡Œshell<br>é’©å­ä¸å¤ªä¼šé…ç½®,åé¢å†è¡¥</p><h1 id="7ã€æ„å»º"><a href="#7ã€æ„å»º" class="headerlink" title="7ã€æ„å»º"></a>7ã€æ„å»º</h1><p>å¯¹äºæˆ‘çš„hexoåšå®¢ï¼Œé€‰æ‹©execute shell</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx hexo clean</span><br><span class="line">npx hexo g</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jenkins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginxå­¦ä¹ </title>
      <link href="/2022/03/09/nginx%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/03/09/nginx%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ä¸‹è½½å¤§æ–‡ä»¶åˆ°1Gå°±è‡ªåŠ¨æš‚åœå¯¼è‡´å¤±è´¥"><a href="#1-ä¸‹è½½å¤§æ–‡ä»¶åˆ°1Gå°±è‡ªåŠ¨æš‚åœå¯¼è‡´å¤±è´¥" class="headerlink" title="1. ä¸‹è½½å¤§æ–‡ä»¶åˆ°1Gå°±è‡ªåŠ¨æš‚åœå¯¼è‡´å¤±è´¥"></a>1. ä¸‹è½½å¤§æ–‡ä»¶åˆ°1Gå°±è‡ªåŠ¨æš‚åœå¯¼è‡´å¤±è´¥</h3><p>nginx çš„proxy_max_temp_file_size é»˜è®¤ä¸º1024M</p><h3 id="2-443ç«¯å£-è‡ªç­¾åSSLè¯ä¹¦"><a href="#2-443ç«¯å£-è‡ªç­¾åSSLè¯ä¹¦" class="headerlink" title="2. 443ç«¯å£+è‡ªç­¾åSSLè¯ä¹¦"></a>2. 443ç«¯å£+è‡ªç­¾åSSLè¯ä¹¦</h3><p>å‚è€ƒæ–‡ç« </p><ul><li><a href="https://blog.dteam.top/posts/2019-04/%E6%9C%AC%E5%9C%B0https%E5%BF%AB%E9%80%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88mkcert.html">è‡ªç­¾åè¯ä¹¦</a></li><li><a href="https://segmentfault.com/a/1190000022673232">nginxå¼€å¯ssl</a></li></ul><h3 id="3-å“åº”å¤´çš„ç¼“å­˜é…ç½®"><a href="#3-å“åº”å¤´çš„ç¼“å­˜é…ç½®" class="headerlink" title="3. å“åº”å¤´çš„ç¼“å­˜é…ç½®"></a>3. å“åº”å¤´çš„ç¼“å­˜é…ç½®</h3>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯é¡¹ç›®æ­å»º</title>
      <link href="/2022/03/02/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/"/>
      <url>/2022/03/02/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="é¡¹ç›®æ­å»ºè§„èŒƒ"><a href="#é¡¹ç›®æ­å»ºè§„èŒƒ" class="headerlink" title="é¡¹ç›®æ­å»ºè§„èŒƒ"></a>é¡¹ç›®æ­å»ºè§„èŒƒ</h1><h2 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h2><h3 id="é›†æˆ-editorconfig-é…ç½®"><a href="#é›†æˆ-editorconfig-é…ç½®" class="headerlink" title="é›†æˆ editorconfig é…ç½®"></a>é›†æˆ editorconfig é…ç½®</h3><p>EditorConfig æœ‰åŠ©äºä¸ºä¸åŒ IDE ç¼–è¾‘å™¨ä¸Šå¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># http://editorconfig.org</span></span><br><span class="line"></span><br><span class="line"><span class="string">root</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[<span class="string">*</span>] <span class="comment"># è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span></span><br><span class="line"><span class="string">charset</span> <span class="string">=</span> <span class="string">utf-8</span> <span class="comment"># è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span></span><br><span class="line"><span class="string">indent_style</span> <span class="string">=</span> <span class="string">space</span> <span class="comment"># ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span></span><br><span class="line"><span class="string">indent_size</span> <span class="string">=</span> <span class="number">2</span> <span class="comment"># ç¼©è¿›å¤§å°</span></span><br><span class="line"><span class="string">end_of_line</span> <span class="string">=</span> <span class="string">lf</span> <span class="comment"># æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span></span><br><span class="line"><span class="string">trim_trailing_whitespace</span> <span class="string">=</span> <span class="literal">true</span> <span class="comment"># å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span></span><br><span class="line"><span class="string">insert_final_newline</span> <span class="string">=</span> <span class="literal">true</span> <span class="comment"># å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span></span><br><span class="line"></span><br><span class="line">[<span class="string">*.md</span>] <span class="comment"># è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™</span></span><br><span class="line"><span class="string">max_line_length</span> <span class="string">=</span> <span class="string">off</span></span><br><span class="line"><span class="string">trim_trailing_whitespace</span> <span class="string">=</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>VSCode éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼šEditorConfig for VS Code</p><h3 id="ä½¿ç”¨-prettier-å·¥å…·"><a href="#ä½¿ç”¨-prettier-å·¥å…·" class="headerlink" title="ä½¿ç”¨ prettier å·¥å…·"></a>ä½¿ç”¨ prettier å·¥å…·</h3><p>Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚</p><p>1.å®‰è£… prettier</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install prettier -D</span><br></pre></td></tr></table></figure><p>2.é…ç½®.prettierrc æ–‡ä»¶ï¼š</p><ul><li>useTabsï¼šä½¿ç”¨ tab ç¼©è¿›è¿˜æ˜¯ç©ºæ ¼ç¼©è¿›ï¼Œé€‰æ‹© falseï¼›</li><li>tabWidthï¼štab æ˜¯ç©ºæ ¼çš„æƒ…å†µä¸‹ï¼Œæ˜¯å‡ ä¸ªç©ºæ ¼ï¼Œé€‰æ‹© 2 ä¸ªï¼›</li><li>printWidthï¼šå½“è¡Œå­—ç¬¦çš„é•¿åº¦ï¼Œæ¨è 80ï¼Œä¹Ÿæœ‰äººå–œæ¬¢ 100 æˆ–è€… 120ï¼›</li><li>singleQuoteï¼šä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·ï¼Œé€‰æ‹© trueï¼Œä½¿ç”¨å•å¼•å·ï¼›</li><li>trailingCommaï¼šåœ¨å¤šè¡Œè¾“å…¥çš„å°¾é€—å·æ˜¯å¦æ·»åŠ ï¼Œè®¾ç½®ä¸º <code>none</code>ï¼›</li><li>semiï¼šè¯­å¥æœ«å°¾æ˜¯å¦è¦åŠ åˆ†å·ï¼Œé»˜è®¤å€¼ trueï¼Œé€‰æ‹© false è¡¨ç¤ºä¸åŠ ï¼›</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;useTabs&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">80</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>3.åˆ›å»º.prettierignore å¿½ç•¥æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">.local</span><br><span class="line">.output.js</span><br><span class="line">/node_modules/**</span><br><span class="line"></span><br><span class="line">**/*.svg</span><br><span class="line">**/*.sh</span><br><span class="line"></span><br><span class="line">/public/*</span><br></pre></td></tr></table></figure><p>4.VSCode éœ€è¦å®‰è£… prettier çš„æ’ä»¶</p><p>5.æµ‹è¯• prettier æ˜¯å¦ç”Ÿæ•ˆ</p><ul><li>æµ‹è¯•ä¸€ï¼šåœ¨ä»£ç ä¸­ä¿å­˜ä»£ç ï¼›</li><li>æµ‹è¯•äºŒï¼šé…ç½®ä¸€æ¬¡æ€§ä¿®æ”¹çš„å‘½ä»¤ï¼›</li></ul><p>åœ¨ package.json ä¸­é…ç½®ä¸€ä¸ª scriptsï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;prettier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write .&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-ESLint-æ£€æµ‹"><a href="#ä½¿ç”¨-ESLint-æ£€æµ‹" class="headerlink" title="ä½¿ç”¨ ESLint æ£€æµ‹"></a>ä½¿ç”¨ ESLint æ£€æµ‹</h3><p>1.åœ¨å‰é¢åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±é€‰æ‹©äº† ESLintï¼Œæ‰€ä»¥ Vue ä¼šé»˜è®¤å¸®åŠ©æˆ‘ä»¬é…ç½®éœ€è¦çš„ ESLint ç¯å¢ƒã€‚</p><p>2.VSCode éœ€è¦å®‰è£… ESLint æ’ä»¶ï¼š</p><p>3.è§£å†³ eslint å’Œ prettier å†²çªçš„é—®é¢˜ï¼š</p><p>å®‰è£…æ’ä»¶ï¼šï¼ˆvue åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå¦‚æœé€‰æ‹© prettierï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ’ä»¶ä¼šè‡ªåŠ¨å®‰è£…ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint-plugin-prettier eslint-config-prettier -D</span><br></pre></td></tr></table></figure><p>æ·»åŠ  prettier æ’ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">extends<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="string">&quot;plugin:vue/vue3-essential&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;eslint:recommended&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;@vue/typescript/recommended&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;@vue/prettier&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;@vue/prettier/@typescript-eslint&quot;</span><span class="punctuation">,</span></span><br><span class="line">  &#x27;plugin<span class="punctuation">:</span>prettier/recommended&#x27;</span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="git-Husky-å’Œ-eslint"><a href="#git-Husky-å’Œ-eslint" class="headerlink" title="git Husky å’Œ eslint"></a>git Husky å’Œ eslint</h3><p>è™½ç„¶æˆ‘ä»¬å·²ç»è¦æ±‚é¡¹ç›®ä½¿ç”¨ eslint äº†ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯ç»„å‘˜æäº¤ä»£ç ä¹‹å‰éƒ½å°† eslint ä¸­çš„é—®é¢˜è§£å†³æ‰äº†ï¼š</p><ul><li><p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸Œæœ›ä¿è¯ä»£ç ä»“åº“ä¸­çš„ä»£ç éƒ½æ˜¯ç¬¦åˆ eslint è§„èŒƒçš„ï¼›</p></li><li><p>é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ç»„å‘˜æ‰§è¡Œ <code>git commit </code> å‘½ä»¤çš„æ—¶å€™å¯¹å…¶è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœä¸ç¬¦åˆ eslint è§„èŒƒï¼Œé‚£ä¹ˆè‡ªåŠ¨é€šè¿‡è§„èŒƒè¿›è¡Œä¿®å¤ï¼›</p></li></ul><p>é‚£ä¹ˆå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ</p><h4 id="Husky"><a href="#Husky" class="headerlink" title="Husky"></a>Husky</h4><ul><li>husky æ˜¯ä¸€ä¸ª git hook å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è§¦å‘ git æäº¤çš„å„ä¸ªé˜¶æ®µï¼špre-commitã€commit-msgã€pre-push</li></ul><p>å¦‚ä½•ä½¿ç”¨ husky å‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªåŠ¨é…ç½®å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky-init &amp;&amp; npm install</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¼šåšä¸‰ä»¶äº‹ï¼š</p><p>1.å®‰è£… <code>husky</code> ç›¸å…³çš„ä¾èµ–ï¼š</p><p>2.åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º <code>.husky</code> æ–‡ä»¶å¤¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx huksy install</span><br></pre></td></tr></table></figure><p><img src="https://dsm01pap001files.storage.live.com/y4mzqsdkuxtLTj0hS84wPGzi64WKw5fTZ1Jr9tnCiSmtE9vp9d-4Z3aG5koFxolJesgLM1lgpDpQjWzXpTBD94Ji7d2Q4LKTUM9WSMs_7l6WPH-4GtM6w30u2lA8UZNc395sH5Mc7iL83zVVFKFDSPObPywNpW573p-iLX-PnwTeMpJzbr--yRWOxu71RKobUTw?width=259&height=130&cropmode=none" alt="image-20210723112719634"></p><p>3.åœ¨ package.json ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å»å®Œæˆä¸€ä¸ªæ“ä½œï¼šåœ¨è¿›è¡Œ commit æ—¶ï¼Œæ‰§è¡Œ lint è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ–‡ä»¶ï¼š/.husky/pre-commit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env sh</span></span><br><span class="line">. <span class="string">&quot;<span class="subst">$(dirname -- <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class="line"></span><br><span class="line">npm run lint</span><br></pre></td></tr></table></figure><h4 id="simple-git-hooks"><a href="#simple-git-hooks" class="headerlink" title="simple-git-hooks"></a>simple-git-hooks</h4><p>ç›¸æ¯”äº huskyï¼Œ<a href="https://github.com/toplenboren/simple-git-hooks">simple-git-hooks</a>ä½“ç§¯æ›´å°ã€‚ 1.å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install simple-git-hooks --save-dev</span><br></pre></td></tr></table></figure><p>2.é…ç½®<br>æ·»åŠ <code>simple-git-hooks</code>åˆ°<code>package.json</code>,ä¾‹å¦‚ vue çš„é…ç½®å¦‚ä¸‹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;simple-git-hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pre-commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pnpm lint-staged&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;commit-msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node scripts/verifyCommit.mjs&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//verifyCommit.mjs</span></span><br><span class="line"><span class="keyword">import</span> chalk <span class="keyword">from</span> <span class="string">&quot;chalk&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; readFileSync &#125; <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath &#125; <span class="keyword">from</span> <span class="string">&quot;url&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dirname = path.<span class="title function_">dirname</span>(<span class="title function_">fileURLToPath</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>), <span class="string">&quot;..&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> msgPath = path.<span class="title function_">resolve</span>(dirname, <span class="string">&quot;../.git/COMMIT_EDITMSG&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> msg = <span class="title function_">readFileSync</span>(msgPath, <span class="string">&quot;utf-8&quot;</span>).<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> commitRE =</span><br><span class="line">  <span class="regexp">/^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\(.+\))?: .&#123;1,50&#125;/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!commitRE.<span class="title function_">test</span>(msg)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(</span><br><span class="line">    <span class="string">`  <span class="subst">$&#123;chalk.bgRed.white(<span class="string">&quot; ERROR &quot;</span>)&#125;</span> <span class="subst">$&#123;chalk.red(</span></span></span><br><span class="line"><span class="subst"><span class="string">      <span class="string">`invalid commit message format.`</span></span></span></span><br><span class="line"><span class="subst"><span class="string">    )&#125;</span>\n\n`</span> +</span><br><span class="line">      chalk.<span class="title function_">red</span>(</span><br><span class="line">        <span class="string">`  Proper commit message format is required for automated changelog generation. Examples:\n\n`</span></span><br><span class="line">      ) +</span><br><span class="line">      <span class="string">`    <span class="subst">$&#123;chalk.green(<span class="string">`feat(compiler): add &#x27;comments&#x27; option`</span>)&#125;</span>\n`</span> +</span><br><span class="line">      <span class="string">`    <span class="subst">$&#123;chalk.green(</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="string">`fix(v-model): handle events on blur (close #28)`</span></span></span></span><br><span class="line"><span class="subst"><span class="string">      )&#125;</span>\n\n`</span> +</span><br><span class="line">      chalk.<span class="title function_">red</span>(<span class="string">`  See .github/commit-convention.md for more details.\n`</span>)</span><br><span class="line">  );</span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é…ç½®åˆ°å¤–éƒ¨æ–‡ä»¶ <code>.simple-git-hooks.cjs</code>, <code>.simple-git-hooks.js</code>, <code>simple-git-hooks.cjs</code>, <code>simple-git-hooks.js</code>, <code>.simple-git-hooks.json</code> æˆ–è€… <code>simple-git-hooks.json</code></p><p>3.æ›´æ–° hooks</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx simple-git-hooks</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ‰§è¡Œ git commit çš„æ—¶å€™ä¼šè‡ªåŠ¨å¯¹ä»£ç è¿›è¡Œ lint æ ¡éªŒã€‚</p><h3 id="git-commit-è§„èŒƒ"><a href="#git-commit-è§„èŒƒ" class="headerlink" title="git commit è§„èŒƒ"></a>git commit è§„èŒƒ</h3><h4 id="ä»£ç æäº¤é£æ ¼"><a href="#ä»£ç æäº¤é£æ ¼" class="headerlink" title="ä»£ç æäº¤é£æ ¼"></a>ä»£ç æäº¤é£æ ¼</h4><p>é€šå¸¸æˆ‘ä»¬çš„ git commit ä¼šæŒ‰ç…§ç»Ÿä¸€çš„é£æ ¼æ¥æäº¤ï¼Œè¿™æ ·å¯ä»¥å¿«é€Ÿå®šä½æ¯æ¬¡æäº¤çš„å†…å®¹ï¼Œæ–¹ä¾¿ä¹‹åå¯¹ç‰ˆæœ¬è¿›è¡Œæ§åˆ¶ã€‚</p><p>ä½†æ˜¯å¦‚æœæ¯æ¬¡æ‰‹åŠ¨æ¥ç¼–å†™è¿™äº›æ˜¯æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå·¥å…·ï¼šCommitizen</p><ul><li><p>Commitizen æ˜¯ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬ç¼–å†™è§„èŒƒ commit message çš„å·¥å…·ï¼›</p><p>1.å®‰è£… Commitizen</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install commitizen -D</span><br></pre></td></tr></table></figure><p>2.å®‰è£… <a href="https://github.com/commitizen/cz-conventional-changelog">cz-conventional-changelog</a>ï¼Œå¹¶ä¸”åˆå§‹åŒ– cz-conventional-changelogï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx commitizen init cz-conventional-changelog --save-dev --save-exact</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šå¸®åŠ©æˆ‘ä»¬å®‰è£… cz-conventional-changelogï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;cz-conventional-changelog&quot;</span><span class="punctuation">:</span><span class="string">&quot;^3.3.0&quot;</span></span><br></pre></td></tr></table></figure><p>å¹¶ä¸”åœ¨ package.json ä¸­è¿›è¡Œé…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="comment">// ...  default values</span></span><br><span class="line">    <span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;commitizen&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;path&quot;</span>: <span class="string">&quot;./node_modules/cz-conventional-changelog&quot;</span>,</span><br><span class="line">            <span class="string">&quot;disableScopeLowerCase&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;disableSubjectLowerCase&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;maxHeaderWidth&quot;</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="string">&quot;maxLineWidth&quot;</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="string">&quot;defaultType&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;defaultScope&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;defaultSubject&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;defaultBody&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;defaultIssues&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;types&quot;</span>: &#123;</span><br><span class="line">              ...</span><br><span class="line">              <span class="string">&quot;feat&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;description&quot;</span>: <span class="string">&quot;A new feature&quot;</span>,</span><br><span class="line">                <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Features&quot;</span></span><br><span class="line">              &#125;,</span><br><span class="line">              ...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æäº¤ä»£ç éœ€è¦ä½¿ç”¨ <code>npx cz</code>ï¼š</p><ul><li>ç¬¬ä¸€æ­¥æ˜¯é€‰æ‹© typeï¼Œæœ¬æ¬¡æ›´æ–°çš„ç±»å‹</li></ul><table><thead><tr><th>Type</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>feat</td><td>æ–°å¢ç‰¹æ€§ (feature)</td></tr><tr><td>fix</td><td>ä¿®å¤ Bug(bug fix)</td></tr><tr><td>docs</td><td>ä¿®æ”¹æ–‡æ¡£ (documentation)</td></tr><tr><td>style</td><td>ä»£ç æ ¼å¼ä¿®æ”¹(white-space, formatting, missing semi colons, etc)</td></tr><tr><td>refactor</td><td>ä»£ç é‡æ„(refactor)</td></tr><tr><td>perf</td><td>æ”¹å–„æ€§èƒ½(A code change that improves performance)</td></tr><tr><td>test</td><td>æµ‹è¯•(when adding missing tests)</td></tr><tr><td>build</td><td>å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰</td></tr><tr><td>ci</td><td>æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰</td></tr><tr><td>chore</td><td>å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·(æ¯”å¦‚æ›´æ”¹æµ‹è¯•ç¯å¢ƒ)</td></tr><tr><td>revert</td><td>ä»£ç å›é€€</td></tr></tbody></table><ul><li>ç¬¬äºŒæ­¥é€‰æ‹©æœ¬æ¬¡ä¿®æ”¹çš„èŒƒå›´ï¼ˆä½œç”¨åŸŸï¼‰</li></ul><ul><li>ç¬¬ä¸‰æ­¥é€‰æ‹©æäº¤çš„ä¿¡æ¯</li></ul><ul><li>ç¬¬å››æ­¥æäº¤è¯¦ç»†çš„æè¿°ä¿¡æ¯</li></ul><ul><li>ç¬¬äº”æ­¥æ˜¯å¦æ˜¯ä¸€æ¬¡é‡å¤§çš„æ›´æ”¹</li></ul><ul><li>ç¬¬å…­æ­¥æ˜¯å¦å½±å“æŸä¸ª open issue</li></ul><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ scripts ä¸­æ„å»ºä¸€ä¸ªå‘½ä»¤æ¥æ‰§è¡Œ czï¼š</p><h4 id="ä»£ç æäº¤éªŒè¯"><a href="#ä»£ç æäº¤éªŒè¯" class="headerlink" title="ä»£ç æäº¤éªŒè¯"></a>ä»£ç æäº¤éªŒè¯</h4><p>å¦‚æœæˆ‘ä»¬æŒ‰ç…§ cz æ¥è§„èŒƒäº†æäº¤é£æ ¼ï¼Œä½†æ˜¯ä¾ç„¶æœ‰åŒäº‹é€šè¿‡ <code>git commit</code> æŒ‰ç…§ä¸è§„èŒƒçš„æ ¼å¼æäº¤åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><ul><li><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ commitlint æ¥é™åˆ¶æäº¤ï¼›</p><p>1.å®‰è£… @commitlint/config-conventional å’Œ @commitlint/cli</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @commitlint/config-conventional @commitlint/cli -D</span><br></pre></td></tr></table></figure><p>2.åœ¨æ ¹ç›®å½•åˆ›å»º commitlint.config.js æ–‡ä»¶ï¼Œé…ç½® commitlint</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&quot;@commitlint/config-conventional&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>3.ä½¿ç”¨ husky ç”Ÿæˆ commit-msg æ–‡ä»¶ï¼ŒéªŒè¯æäº¤ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/commit-msg &quot;npx --no-install commitlint --edit $1&quot;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰æ–¹åº“é›†æˆ"><a href="#ç¬¬ä¸‰æ–¹åº“é›†æˆ" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“é›†æˆ"></a>ç¬¬ä¸‰æ–¹åº“é›†æˆ</h2><h3 id="vue-config-js-é…ç½®"><a href="#vue-config-js-é…ç½®" class="headerlink" title="vue.config.js é…ç½®"></a>vue.config.js é…ç½®</h3><p>vue.config.js æœ‰ä¸‰ç§é…ç½®æ–¹å¼ï¼š</p><ul><li>æ–¹å¼ä¸€ï¼šç›´æ¥é€šè¿‡ CLI æä¾›ç»™æˆ‘ä»¬çš„é€‰é¡¹æ¥é…ç½®ï¼š<ul><li>æ¯”å¦‚ publicPathï¼šé…ç½®åº”ç”¨ç¨‹åºéƒ¨ç½²çš„å­ç›®å½•ï¼ˆé»˜è®¤æ˜¯ <code>/</code>ï¼Œç›¸å½“äºéƒ¨ç½²åœ¨ <code>https://www.my-app.com/</code>ï¼‰ï¼›</li><li>æ¯”å¦‚ outputDirï¼šä¿®æ”¹è¾“å‡ºçš„æ–‡ä»¶å¤¹ï¼›</li></ul></li><li>æ–¹å¼äºŒï¼šé€šè¿‡ configureWebpack ä¿®æ”¹ webpack çš„é…ç½®ï¼š<ul><li>å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä¼šè¢«åˆå¹¶ï¼›</li><li>å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ª configï¼Œå¯ä»¥é€šè¿‡ config æ¥ä¿®æ”¹é…ç½®ï¼›</li></ul></li><li>æ–¹å¼ä¸‰ï¼šé€šè¿‡ chainWebpack ä¿®æ”¹ webpack çš„é…ç½®ï¼š<ul><li>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº <a href="https://github.com/mozilla-neutrino/webpack-chain">webpack-chain</a> çš„ config å¯¹è±¡ï¼Œå¯ä»¥å¯¹é…ç½®è¿›è¡Œä¿®æ”¹ï¼›</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">outputDir</span>: <span class="string">&quot;./build&quot;</span>,</span><br><span class="line">  <span class="comment">// configureWebpack: &#123;</span></span><br><span class="line">  <span class="comment">//   resolve: &#123;</span></span><br><span class="line">  <span class="comment">//     alias: &#123;</span></span><br><span class="line">  <span class="comment">//       views: &#x27;@/views&#x27;</span></span><br><span class="line">  <span class="comment">//     &#125;</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="comment">// configureWebpack: (config) =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   config.resolve.alias = &#123;</span></span><br><span class="line">  <span class="comment">//     &#x27;@&#x27;: path.resolve(__dirname, &#x27;src&#x27;),</span></span><br><span class="line">  <span class="comment">//     views: &#x27;@/views&#x27;</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">resolve</span>.<span class="property">alias</span></span><br><span class="line">      .<span class="title function_">set</span>(<span class="string">&quot;@&quot;</span>, path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;src&quot;</span>))</span><br><span class="line">      .<span class="title function_">set</span>(<span class="string">&quot;views&quot;</span>, <span class="string">&quot;@/views&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="vue-router-é›†æˆ"><a href="#vue-router-é›†æˆ" class="headerlink" title="vue-router é›†æˆ"></a>vue-router é›†æˆ</h3><p>å®‰è£… vue-router çš„æœ€æ–°ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@next</span><br></pre></td></tr></table></figure><p>åˆ›å»º router å¯¹è±¡ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">RouteRecordRaw</span>[] = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/main&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/main&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../views/main/main.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../views/login/login.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p>å®‰è£… routerï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(router).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>åœ¨ App.vue ä¸­é…ç½®è·³è½¬ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/login&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/main&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="vuex-é›†æˆ"><a href="#vuex-é›†æˆ" class="headerlink" title="vuex é›†æˆ"></a>vuex é›†æˆ</h3><p>å®‰è£… vuexï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex@next</span><br></pre></td></tr></table></figure><p>åˆ›å»º store å¯¹è±¡ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;coderwhy&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure><p>å®‰è£… storeï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(router).<span class="title function_">use</span>(store).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>åœ¨ App.vue ä¸­ä½¿ç”¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; $store.state.name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="element-plus-é›†æˆ"><a href="#element-plus-é›†æˆ" class="headerlink" title="element-plus é›†æˆ"></a>element-plus é›†æˆ</h3><p>Element Plusï¼Œä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 3.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“</p><p>å®‰è£… element-plus</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus</span><br></pre></td></tr></table></figure><h4 id="å…¨å±€å¼•å…¥"><a href="#å…¨å±€å¼•å…¥" class="headerlink" title="å…¨å±€å¼•å…¥"></a>å…¨å±€å¼•å…¥</h4><p>ä¸€ç§å¼•å…¥ element-plus çš„æ–¹å¼æ˜¯å…¨å±€å¼•å…¥ï¼Œä»£è¡¨çš„å«ä¹‰æ˜¯æ‰€æœ‰çš„ç»„ä»¶å’Œæ’ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨æ³¨å†Œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-plus/lib/theme-chalk/index.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(router).<span class="title function_">use</span>(store).<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="å±€éƒ¨å¼•å…¥"><a href="#å±€éƒ¨å¼•å…¥" class="headerlink" title="å±€éƒ¨å¼•å…¥"></a>å±€éƒ¨å¼•å…¥</h4><p>ä¹Ÿå°±æ˜¯åœ¨å¼€å‘ä¸­ç”¨åˆ°æŸä¸ªç»„ä»¶å¯¹æŸä¸ªç»„ä»¶è¿›è¡Œå¼•å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-link to=&quot;/login&quot;&gt;ç™»å½•&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/main&quot;&gt;é¦–é¡µ&lt;/router-link&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;&#123;&#123; $store.state.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-button&gt;é»˜è®¤æŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;primary&quot;&gt;ä¸»è¦æŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;success&quot;&gt;æˆåŠŸæŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;info&quot;&gt;ä¿¡æ¯æŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;warning&quot;&gt;è­¦å‘ŠæŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot;&gt;å±é™©æŒ‰é’®&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent &#125; from &quot;vue&quot;;</span><br><span class="line"></span><br><span class="line">import &#123; ElButton &#125; from &quot;element-plus&quot;;</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    ElButton,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°æ˜¯æ²¡æœ‰å¯¹åº”çš„æ ·å¼çš„ï¼Œå¼•å…¥æ ·å¼æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><p>å…¨å±€å¼•ç”¨æ ·å¼ï¼ˆåƒä¹‹å‰åšçš„é‚£æ ·ï¼‰ï¼›</p></li><li><p>å±€éƒ¨å¼•ç”¨æ ·å¼ï¼ˆé€šè¿‡ babel çš„æ’ä»¶ï¼‰ï¼›</p><p>1.å®‰è£… babel çš„æ’ä»¶ï¼š</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-import -D</span><br></pre></td></tr></table></figure><p>2.é…ç½® babel.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;import&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">libraryName</span>: <span class="string">&quot;element-plus&quot;</span>,</span><br><span class="line">        <span class="attr">customStyleName</span>: <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`element-plus/lib/theme-chalk/<span class="subst">$&#123;name&#125;</span>.css`</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">presets</span>: [<span class="string">&quot;@vue/cli-plugin-babel/preset&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™é‡Œä¾ç„¶æœ‰ä¸ªå¼Šç«¯ï¼š</p><ul><li>è¿™äº›ç»„ä»¶æˆ‘ä»¬åœ¨å¤šä¸ªé¡µé¢æˆ–è€…ç»„ä»¶ä¸­ä½¿ç”¨çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å¯¼å…¥å¹¶ä¸”åœ¨ components ä¸­è¿›è¡Œæ³¨å†Œï¼›</li><li>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬åœ¨å…¨å±€æ³¨å†Œä¸€æ¬¡ï¼›</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">ElButton</span>,</span><br><span class="line">  <span class="title class_">ElTable</span>,</span><br><span class="line">  <span class="title class_">ElAlert</span>,</span><br><span class="line">  <span class="title class_">ElAside</span>,</span><br><span class="line">  <span class="title class_">ElAutocomplete</span>,</span><br><span class="line">  <span class="title class_">ElAvatar</span>,</span><br><span class="line">  <span class="title class_">ElBacktop</span>,</span><br><span class="line">  <span class="title class_">ElBadge</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> components = [</span><br><span class="line">  <span class="title class_">ElButton</span>,</span><br><span class="line">  <span class="title class_">ElTable</span>,</span><br><span class="line">  <span class="title class_">ElAlert</span>,</span><br><span class="line">  <span class="title class_">ElAside</span>,</span><br><span class="line">  <span class="title class_">ElAutocomplete</span>,</span><br><span class="line">  <span class="title class_">ElAvatar</span>,</span><br><span class="line">  <span class="title class_">ElBacktop</span>,</span><br><span class="line">  <span class="title class_">ElBadge</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> cpn <span class="keyword">of</span> components) &#123;</span><br><span class="line">  app.<span class="title function_">component</span>(cpn.<span class="property">name</span>, cpn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="axios-é›†æˆ"><a href="#axios-é›†æˆ" class="headerlink" title="axios é›†æˆ"></a>axios é›†æˆ</h3><p>å®‰è£… axiosï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure><p>å°è£… axiosï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios, &#123; <span class="title class_">AxiosInstance</span>, <span class="title class_">AxiosRequestConfig</span>, <span class="title class_">AxiosResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Result</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./types&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useUserStore &#125; <span class="keyword">from</span> <span class="string">&quot;/@/store/modules/user&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HYRequest</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">instance</span>: <span class="title class_">AxiosInstance</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="attr">options</span>: <span class="title class_">AxiosRequestConfig</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options: AxiosRequestConfig</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">options</span> = options;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">instance</span> = axios.<span class="title function_">create</span>(options);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">instance</span>.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">      <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> token = <span class="title function_">useUserStore</span>().<span class="property">getToken</span>;</span><br><span class="line">        <span class="keyword">if</span> (token) &#123;</span><br><span class="line">          config.<span class="property">headers</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">instance</span>.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">      <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ‹¦æˆªå“åº”çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> res.<span class="property">data</span>.<span class="property">data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="property">data</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  request&lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">instance</span></span><br><span class="line">        .<span class="property">request</span>&lt;<span class="built_in">any</span>, <span class="title class_">AxiosResponse</span>&lt;<span class="title class_">Result</span>&lt;T&gt;&gt;&gt;(config)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(res <span class="keyword">as</span> unknown <span class="keyword">as</span> <span class="title class_">Promise</span>&lt;T&gt;);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get&lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123; ...config, <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  post&lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123; ...config, <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  patch&lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123; ...config, <span class="attr">method</span>: <span class="string">&quot;PATCH&quot;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span>&lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123; ...config, <span class="attr">method</span>: <span class="string">&quot;DELETE&quot;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">HYRequest</span>;</span><br></pre></td></tr></table></figure><h3 id="VSCode-é…ç½®"><a href="#VSCode-é…ç½®" class="headerlink" title="VSCode é…ç½®"></a>VSCode é…ç½®</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;workbench.iconTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode-great-icons&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.fontSize&quot;</span><span class="punctuation">:</span> <span class="number">17</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;eslint.migration.2_x&quot;</span><span class="punctuation">:</span> <span class="string">&quot;off&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[javascript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dbaeumer.vscode-eslint&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;files.autoSave&quot;</span><span class="punctuation">:</span> <span class="string">&quot;afterDelay&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.tabSize&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;terminal.integrated.fontSize&quot;</span><span class="punctuation">:</span> <span class="number">16</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.renderWhitespace&quot;</span><span class="punctuation">:</span> <span class="string">&quot;all&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.quickSuggestions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;strings&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;debug.console.fontSize&quot;</span><span class="punctuation">:</span> <span class="number">15</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;window.zoomLevel&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;emmet.includeLanguages&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;javascript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;javascriptreact&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;explorer.confirmDragAndDrop&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workbench.tree.indent&quot;</span><span class="punctuation">:</span> <span class="number">16</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;javascript.updateImportsOnFileMove.enabled&quot;</span><span class="punctuation">:</span> <span class="string">&quot;always&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.wordWrap&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;path-intellisense.mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hediet.vscode-drawio.local-storage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eyIuZHJhd2lvLWNvbmZpZyI6IntcImxhbmd1YWdlXCI6XCJcIixcImN1c3RvbUZvbnRzXCI6W10sXCJsaWJyYXJpZXNcIjpcImdlbmVyYWw7YmFzaWM7YXJyb3dzMjtmbG93Y2hhcnQ7ZXI7c2l0ZW1hcDt1bWw7YnBtbjt3ZWJpY29uc1wiLFwiY3VzdG9tTGlicmFyaWVzXCI6W1wiTC5zY3JhdGNocGFkXCJdLFwicGx1Z2luc1wiOltdLFwicmVjZW50Q29sb3JzXCI6W1wiRkYwMDAwXCIsXCIwMENDNjZcIixcIm5vbmVcIixcIkNDRTVGRlwiLFwiNTI1MjUyXCIsXCJGRjMzMzNcIixcIjMzMzMzM1wiLFwiMzMwMDAwXCIsXCIwMENDQ0NcIixcIkZGNjZCM1wiLFwiRkZGRkZGMDBcIl0sXCJmb3JtYXRXaWR0aFwiOjI0MCxcImNyZWF0ZVRhcmdldFwiOmZhbHNlLFwicGFnZUZvcm1hdFwiOntcInhcIjowLFwieVwiOjAsXCJ3aWR0aFwiOjExNjksXCJoZWlnaHRcIjoxNjU0fSxcInNlYXJjaFwiOnRydWUsXCJzaG93U3RhcnRTY3JlZW5cIjp0cnVlLFwiZ3JpZENvbG9yXCI6XCIjZDBkMGQwXCIsXCJkYXJrR3JpZENvbG9yXCI6XCIjNmU2ZTZlXCIsXCJhdXRvc2F2ZVwiOnRydWUsXCJyZXNpemVJbWFnZXNcIjpudWxsLFwib3BlbkNvdW50ZXJcIjowLFwidmVyc2lvblwiOjE4LFwidW5pdFwiOjEsXCJpc1J1bGVyT25cIjpmYWxzZSxcInVpXCI6XCJcIn0ifQ==&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hediet.vscode-drawio.theme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kennedy&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.fontFamily&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Source Code Pro, &#x27;Courier New&#x27;, monospace&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.smoothScrolling&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workbench.colorTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Atom One Dark&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;vetur.completion.autoImport&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;security.workspace.trust.untrustedFiles&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;eslint.lintTask.enable&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;eslint.alwaysShowStatus&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll.eslint&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯-ç¯å¢ƒ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript+Vue3</title>
      <link href="/2022/02/23/TypeScript-Vue3/"/>
      <url>/2022/02/23/TypeScript-Vue3/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitlab é…ç½®é‚®ç®±</title>
      <link href="/2022/01/28/gitlab-%E9%85%8D%E7%BD%AE%E9%82%AE%E7%AE%B1/"/>
      <url>/2022/01/28/gitlab-%E9%85%8D%E7%BD%AE%E9%82%AE%E7%AE%B1/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€å®å¡”å®‰è£…Gitlabç¤¾åŒºç‰ˆ"><a href="#1ã€å®å¡”å®‰è£…Gitlabç¤¾åŒºç‰ˆ" class="headerlink" title="1ã€å®å¡”å®‰è£…Gitlabç¤¾åŒºç‰ˆ"></a>1ã€å®å¡”å®‰è£…Gitlabç¤¾åŒºç‰ˆ</h2><h2 id="2ã€Gitlabé‚®ç®±é…ç½®"><a href="#2ã€Gitlabé‚®ç®±é…ç½®" class="headerlink" title="2ã€Gitlabé‚®ç®±é…ç½®"></a>2ã€Gitlabé‚®ç®±é…ç½®</h2><p>å‚è€ƒ<a href="https://juejin.cn/post/6991924908242501669">GitlabæœåŠ¡å™¨é‚®ç®±é…ç½®ï¼Œå®ç°è‡ªåŠ¨ä¸ºç”¨æˆ·å‘é€é‚®ä»¶</a><br><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a344b729f6045f8a4c1d83f13f4dbf3~tplv-k3u1fbpfcp-watermark.awebp"><br>ä¿®æ”¹å®Œæˆå¹¶ä¿å­˜åï¼Œåœ¨ç»ˆç«¯è¿è¡Œgitlab-ctl reconfigureä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><h2 id="3ã€é‡å¯å¤±è´¥çš„è§£å†³"><a href="#3ã€é‡å¯å¤±è´¥çš„è§£å†³" class="headerlink" title="3ã€é‡å¯å¤±è´¥çš„è§£å†³"></a>3ã€é‡å¯å¤±è´¥çš„è§£å†³</h2><p>è§£å†³æ–¹æ³•ä¸€ï¼š</p><blockquote><p>æŠŠ /opt/gitlab/sv/nginx/run é‡Œé¢çš„ exec chpst -P /opt/gitlab/embedded/sbin/nginx -p /var/opt/gitlab/nginx æ”¹ä¸º exec chpst -P /opt/gitlab/embedded/sbin/gitlab-web -p /var/opt/gitlab/nginx<br>è§£å†³æ–¹æ³•äºŒï¼š<br>mv /opt/gitlab/embedded/sbin/nginx /opt/gitlab/embedded/sbin/gitlab-web</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pyinstaller æ‰“åŒ… pandas</title>
      <link href="/2022/01/01/pyinstaller-%E6%89%93%E5%8C%85-pandas/"/>
      <url>/2022/01/01/pyinstaller-%E6%89%93%E5%8C%85-pandas/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h1><p>ç»™æœ‹å‹å†™ä¸€ä¸ªexcelè„šæœ¬ï¼Œå¼•å…¥äº†å¦‚ä¸‹æ¨¡å—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame</span><br><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure><p>ç”¨ anaconda çš„ç¯å¢ƒè¿è¡Œpyinstaller -F æ‰“åŒ…å•ä¸ªexeä¹‹åçš„ä½“ç§¯å¾ˆå¤§ï¼Œè¾¾åˆ°äº†300å¤šMã€‚ç½‘ç»œæœç´¢å¦‚ä½•ç¼©å°æåŠåã€‚è€ƒè™‘ä½¿ç”¨docker</p><h1 id="äºŒã€dockerç¯å¢ƒåŠå®¹å™¨ç¯å¢ƒé…ç½®"><a href="#äºŒã€dockerç¯å¢ƒåŠå®¹å™¨ç¯å¢ƒé…ç½®" class="headerlink" title="äºŒã€dockerç¯å¢ƒåŠå®¹å™¨ç¯å¢ƒé…ç½®"></a>äºŒã€dockerç¯å¢ƒåŠå®¹å™¨ç¯å¢ƒé…ç½®</h1><h2 id="1ã€å®‰è£…docker"><a href="#1ã€å®‰è£…docker" class="headerlink" title="1ã€å®‰è£…docker"></a>1ã€å®‰è£…docker</h2><p>æˆ‘çš„è…¾è®¯äº‘æ­£å¥½æœ‰å®‰è£…å¥½çš„dockerï¼Œwindowsä¹Ÿå¯ä»¥å®‰è£…ï¼Œä¾¿ä¸å†èµ˜è¿°ã€‚</p><h2 id="2ã€æ‹‰å–é•œåƒ"><a href="#2ã€æ‹‰å–é•œåƒ" class="headerlink" title="2ã€æ‹‰å–é•œåƒ"></a>2ã€æ‹‰å–é•œåƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull cdrx/pyinstaller-windows</span><br></pre></td></tr></table></figure><h2 id="3ã€å¯åŠ¨å®¹å™¨ï¼Œä»¥å‘½ä»¤è¡Œè¿›å…¥"><a href="#3ã€å¯åŠ¨å®¹å™¨ï¼Œä»¥å‘½ä»¤è¡Œè¿›å…¥" class="headerlink" title="3ã€å¯åŠ¨å®¹å™¨ï¼Œä»¥å‘½ä»¤è¡Œè¿›å…¥"></a>3ã€å¯åŠ¨å®¹å™¨ï¼Œä»¥å‘½ä»¤è¡Œè¿›å…¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v /home/python/docker/:/home/ cdrx/pyinstaller-windows /bin/bash</span><br></pre></td></tr></table></figure><p><code>/home/python/docker/:/home/</code> è¿™ä¸ªå‚æ•°æ˜¯æŒ‚è½½æˆ‘å®¿ä¸»æœº<code>/home/python/docker/</code>æ–‡ä»¶å¤¹åˆ°å®¹å™¨çš„<code>/home/</code>æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿åç»­ä¸‹è½½æ‰“åŒ…å¥½çš„ç¨‹åºã€‚</p><h2 id="4ã€é…ç½®å®¹å™¨çš„pythonç¯å¢ƒ"><a href="#4ã€é…ç½®å®¹å™¨çš„pythonç¯å¢ƒ" class="headerlink" title="4ã€é…ç½®å®¹å™¨çš„pythonç¯å¢ƒ"></a>4ã€é…ç½®å®¹å™¨çš„pythonç¯å¢ƒ</h2><p>åœ¨å®¹å™¨çš„å‘½ä»¤è¡Œæ‰§è¡Œ<code>pip list</code>å‘ç°ï¼Œåªæœ‰å¯¥å¯¥å‡ ä¸ªåŒ…ã€‚<br>å› ä¸ºæˆ‘ç”¨åˆ°çš„pandasï¼Œæ‰€ä»¥ç›´æ¥ å®‰è£…äº†å¦‚ä¸‹å‡ ä¸ª</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br><span class="line">pip install openpyxl</span><br><span class="line">pip install xlsxwriter</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…ï¼Œå¹¶æ— æŠ¥é”™ï¼Œæ‰§è¡ŒæŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Missing optional dependency <span class="string">&#x27;jinja2&#x27;</span>. DataFrame.style requires jinja2</span><br></pre></td></tr></table></figure><p>é‚<code>pip install jinja2</code><br>æ‰“åŒ…æ‰§è¡Œï¼Œé—®é¢˜è¿˜æ˜¯æ²¡è§£å†³ã€‚å‚è€ƒä¸€ä¸ªissueã€<a href="https://github.com/pyinstaller/pyinstaller/issues/5360">pyinstaller</a>ã€‘åï¼Œå°è¯•æ›´æ–°pyinstallerç‰ˆæœ¬</p><p>æ‰§è¡Œ <code>pipÂ installÂ --upgradeÂ pyinstaller</code>ï¼Œç¼–è¯‘æ‰“åŒ…æ‰§è¡Œï¼Œå®Œç¾ï¼Œ28Mã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022å‰ç«¯æ€»ç»“</title>
      <link href="/2022/01/01/2022%E5%89%8D%E7%AB%AF%E6%80%BB%E7%BB%93/"/>
      <url>/2022/01/01/2022%E5%89%8D%E7%AB%AF%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ä¸ªåˆ©ç”¨é—­åŒ…å®ç°çš„å‡½æ•°å‚æ•°é‡è½½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addMethod</span>(<span class="params">object, name, fn</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> old = object[name];</span><br><span class="line">  object[name] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="property">length</span>, <span class="string">&quot;&amp;&quot;</span>, <span class="variable language_">arguments</span>.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">if</span> (fn.<span class="property">length</span> == <span class="variable language_">arguments</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;fn&quot;</span>, fn);</span><br><span class="line">      <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> old == <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;old&quot;</span>, old);</span><br><span class="line">      <span class="keyword">return</span> old.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line"><span class="title function_">addMethod</span>(a, <span class="string">&quot;eat&quot;</span>, <span class="keyword">function</span> (<span class="params">food</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eat2: &quot;</span>, food);</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">arguments</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">addMethod</span>(a, <span class="string">&quot;eat&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eatåƒ&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">arguments</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">addMethod</span>(a, <span class="string">&quot;eat&quot;</span>, <span class="keyword">function</span> (<span class="params">food, num</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eat3: &quot;</span>, food, <span class="string">&quot;  &quot;</span>, num, <span class="string">&quot;æ¬¡&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">arguments</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// console.log(&quot;a.eat&quot;, a.eat);</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">eat</span>(<span class="string">&quot;apple&quot;</span>, <span class="number">2</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;=============================&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">eat</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;=============================&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">eat</span>(<span class="string">&quot;apple&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;=============================&quot;</span>);</span><br><span class="line">  </span><br></pre></td></tr></table></figure><p>blobè½¬dataUrlå¤§äº2Må¯¼è‡´ä¸‹è½½å¤±è´¥ã€‚ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*è¿™ä¸ª URL çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆ›å»ºå®ƒçš„çª—å£ä¸­çš„ document ç»‘å®šã€‚*/</span></span><br><span class="line">objectURL = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(object);</span><br><span class="line"><span class="comment">/*ç»“æŸä½¿ç”¨æŸä¸ª URL å¯¹è±¡ä¹‹åï¼Œåº”è¯¥é€šè¿‡è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥è®©æµè§ˆå™¨çŸ¥é“ä¸ç”¨åœ¨å†…å­˜ä¸­ç»§ç»­ä¿ç•™å¯¹è¿™ä¸ªæ–‡ä»¶çš„å¼•ç”¨äº†ã€‚*/</span></span><br><span class="line"><span class="variable constant_">URL</span>.<span class="title function_">revokeObjectURL</span>(objectURL);</span><br></pre></td></tr></table></figure><p>å“åº”å¤´ Content-Disposition</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Content-Disposition: inline</span><br><span class="line">Content-Disposition: attachment</span><br><span class="line">Content-Disposition: attachment; filename=&quot;filename.jpg&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>nodeé…ç½®</title>
      <link href="/2021/12/24/node%E9%85%8D%E7%BD%AE/"/>
      <url>/2021/12/24/node%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>1ã€é…ç½®</p><ul><li>æ‰¾åˆ° nodejs å®‰è£…æ–‡ä»¶å¤¹ç›®å½•</li><li>æ–°å»º node_global å’Œ node_cache æ–‡ä»¶å¤¹</li><li>node_global æ–‡ä»¶å¤¹ä¸­æ–°å»º node_modules æ–‡ä»¶å¤¹</li><li>æ‰“å¼€ cmd <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;E:\nodejs\node_global&quot;</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;E:\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure></li></ul><p>2ã€ç¯å¢ƒå˜é‡</p><ul><li>node ç¯å¢ƒå˜é‡å®‰è£…æ—¶å·²é…ç½®ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿå˜é‡ path ä¸­æ‰¾åˆ°</li><li>è¿™é‡Œæ˜¯é…ç½® node_modules ä¸­æ’ä»¶ç¯å¢ƒå˜é‡</li><li>ç³»ç»Ÿå˜é‡ä¸­æ–°å»º NODE_HOME æŒ‡å‘æ–°å»ºçš„ node_global/node_modules æ–‡ä»¶å¤¹</li><li>ç”¨æˆ·å˜é‡ä¸­åŠ ä¸Š node_global è·¯å¾„<br>å¤åˆ¶ä»£ç </li></ul><p>3ã€è®¾ç½® npm ä¸‹è½½é•œåƒ</p><ul><li>æ‰“å¼€ cmd<br>npm config set registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></li><li>æŸ¥çœ‹ nodejs é…ç½®<br>npm config list</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯-ç¯å¢ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>21å¹´å‰ç«¯æ€»ç»“</title>
      <link href="/2021/09/21/21%E5%B9%B49%E3%80%8110%E5%89%8D%E7%AB%AF%E6%80%BB%E7%BB%93/"/>
      <url>/2021/09/21/21%E5%B9%B49%E3%80%8110%E5%89%8D%E7%AB%AF%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="Bug"><a href="#Bug" class="headerlink" title="Bug"></a>Bug</h1><h4 id="1ã€formè¡¨å•è§†å›¾ä¸æ›´æ–°"><a href="#1ã€formè¡¨å•è§†å›¾ä¸æ›´æ–°" class="headerlink" title="1ã€formè¡¨å•è§†å›¾ä¸æ›´æ–°"></a>1ã€formè¡¨å•è§†å›¾ä¸æ›´æ–°</h4><p>ä¸»è¦æ˜¯è€å¿˜è®°ä½¿ç”¨<code>$set</code>è®¾ç½®å¯¹è±¡çš„å€¼ï¼Œç ´åäº†vueçš„åŠ¨æ€å“åº”</p><h4 id="2ã€elementçš„tableç»„ä»¶è‡ªå®šä¹‰è¡¨å¤´ä½¿ç”¨äº†è¡¨å•å…ƒç´ ï¼Œä½†æ˜¯è§†å›¾ä¸æ›´æ–°"><a href="#2ã€elementçš„tableç»„ä»¶è‡ªå®šä¹‰è¡¨å¤´ä½¿ç”¨äº†è¡¨å•å…ƒç´ ï¼Œä½†æ˜¯è§†å›¾ä¸æ›´æ–°" class="headerlink" title="2ã€elementçš„tableç»„ä»¶è‡ªå®šä¹‰è¡¨å¤´ä½¿ç”¨äº†è¡¨å•å…ƒç´ ï¼Œä½†æ˜¯è§†å›¾ä¸æ›´æ–°"></a>2ã€elementçš„tableç»„ä»¶è‡ªå®šä¹‰è¡¨å¤´ä½¿ç”¨äº†è¡¨å•å…ƒç´ ï¼Œä½†æ˜¯è§†å›¾ä¸æ›´æ–°</h4><p>åŠ ä¸Šä½œç”¨åŸŸæ’æ§½</p><h4 id="3ã€å…ƒç´ é¼ æ ‡æ‚¬æµ®å¤šäº†è«åå…¶å¦™çš„æç¤ºæ¡†"><a href="#3ã€å…ƒç´ é¼ æ ‡æ‚¬æµ®å¤šäº†è«åå…¶å¦™çš„æç¤ºæ¡†" class="headerlink" title="3ã€å…ƒç´ é¼ æ ‡æ‚¬æµ®å¤šäº†è«åå…¶å¦™çš„æç¤ºæ¡†"></a>3ã€å…ƒç´ é¼ æ ‡æ‚¬æµ®å¤šäº†è«åå…¶å¦™çš„æç¤ºæ¡†</h4><p>ä½¿ç”¨<code>v-bind=&quot;$attrs&quot;</code>åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç»‘å®šäº†titleåˆ°å…ƒç´ </p><h4 id="4ã€beforeRouteEnterçš„ä½¿ç”¨"><a href="#4ã€beforeRouteEnterçš„ä½¿ç”¨" class="headerlink" title="4ã€beforeRouteEnterçš„ä½¿ç”¨"></a>4ã€beforeRouteEnterçš„ä½¿ç”¨</h4><p>æ³¨æ„åœ¨æ¬¡é’©å­å‡½æ•°ä¸­thisä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡<code>next((vm)=&gt;&#123;&#125;)</code>è·å¾—å½“å‰çš„vueå®ä¾‹</p><h4 id="5ã€-slots-listener-attrs-props"><a href="#5ã€-slots-listener-attrs-props" class="headerlink" title="5ã€$slots,$listener,$attrs,$props"></a>5ã€<code>$slots</code>,<code>$listener</code>,<code>$attrs</code>,<code>$props</code></h4><h4 id="6ã€jqueryè®¡ç®—éšè—å…ƒç´ çš„å®½é«˜ä¼šå‡ºé”™"><a href="#6ã€jqueryè®¡ç®—éšè—å…ƒç´ çš„å®½é«˜ä¼šå‡ºé”™" class="headerlink" title="6ã€jqueryè®¡ç®—éšè—å…ƒç´ çš„å®½é«˜ä¼šå‡ºé”™"></a>6ã€jqueryè®¡ç®—éšè—å…ƒç´ çš„å®½é«˜ä¼šå‡ºé”™</h4><h4 id="7ã€activatedé’©å­å‡½æ•°ä¼šåœ¨mountedä¹‹åæ‰§è¡Œ"><a href="#7ã€activatedé’©å­å‡½æ•°ä¼šåœ¨mountedä¹‹åæ‰§è¡Œ" class="headerlink" title="7ã€activatedé’©å­å‡½æ•°ä¼šåœ¨mountedä¹‹åæ‰§è¡Œ"></a>7ã€<code>activated</code>é’©å­å‡½æ•°ä¼šåœ¨mountedä¹‹åæ‰§è¡Œ</h4><h4 id="8ã€beforeDestroyä¸­æ¸…é™¤å®šæ—¶å™¨"><a href="#8ã€beforeDestroyä¸­æ¸…é™¤å®šæ—¶å™¨" class="headerlink" title="8ã€beforeDestroyä¸­æ¸…é™¤å®šæ—¶å™¨"></a>8ã€<code>beforeDestroy</code>ä¸­æ¸…é™¤å®šæ—¶å™¨</h4><h4 id="9ã€åŸç”ŸDOMæ“ä½œè¦æ”¾åœ¨nextTickä¸­æ‰§è¡Œ"><a href="#9ã€åŸç”ŸDOMæ“ä½œè¦æ”¾åœ¨nextTickä¸­æ‰§è¡Œ" class="headerlink" title="9ã€åŸç”ŸDOMæ“ä½œè¦æ”¾åœ¨nextTickä¸­æ‰§è¡Œ"></a>9ã€<code>åŸç”ŸDOMæ“ä½œ</code>è¦æ”¾åœ¨<code>nextTick</code>ä¸­æ‰§è¡Œ</h4><h4 id="10ã€echartsçš„æ•°æ®é›†ä¸èƒ½ä½¿ç”¨ï¼Œå‘ç°æ˜¯datasetComponentæ²¡æœ‰æŒ‰éœ€å¼•ç”¨"><a href="#10ã€echartsçš„æ•°æ®é›†ä¸èƒ½ä½¿ç”¨ï¼Œå‘ç°æ˜¯datasetComponentæ²¡æœ‰æŒ‰éœ€å¼•ç”¨" class="headerlink" title="10ã€echartsçš„æ•°æ®é›†ä¸èƒ½ä½¿ç”¨ï¼Œå‘ç°æ˜¯datasetComponentæ²¡æœ‰æŒ‰éœ€å¼•ç”¨"></a>10ã€<code>echarts</code>çš„<code>æ•°æ®é›†</code>ä¸èƒ½ä½¿ç”¨ï¼Œå‘ç°æ˜¯<code>datasetComponent</code>æ²¡æœ‰æŒ‰éœ€å¼•ç”¨</h4><h4 id="11ã€é€šè¿‡this-refs-39-comp-39-ä¿®æ”¹çš„å­ç»„ä»¶dataæ•°æ®ä¼¼ä¹ä¸èƒ½è¢«watchç›‘è§†"><a href="#11ã€é€šè¿‡this-refs-39-comp-39-ä¿®æ”¹çš„å­ç»„ä»¶dataæ•°æ®ä¼¼ä¹ä¸èƒ½è¢«watchç›‘è§†" class="headerlink" title="11ã€é€šè¿‡this.$refs[&#39;comp&#39;]ä¿®æ”¹çš„å­ç»„ä»¶dataæ•°æ®ä¼¼ä¹ä¸èƒ½è¢«watchç›‘è§†"></a>11ã€é€šè¿‡<code>this.$refs[&#39;comp&#39;]</code>ä¿®æ”¹çš„å­ç»„ä»¶dataæ•°æ®ä¼¼ä¹ä¸èƒ½è¢«watchç›‘è§†</h4><h4 id="12ã€el-tableçš„fixedåˆ—åŠ ä¸Šå®½åº¦ï¼Œä¸ç„¶è§†å›¾æœ‰æ—¶å€™å¼‚å¸¸"><a href="#12ã€el-tableçš„fixedåˆ—åŠ ä¸Šå®½åº¦ï¼Œä¸ç„¶è§†å›¾æœ‰æ—¶å€™å¼‚å¸¸" class="headerlink" title="12ã€el-tableçš„fixedåˆ—åŠ ä¸Šå®½åº¦ï¼Œä¸ç„¶è§†å›¾æœ‰æ—¶å€™å¼‚å¸¸"></a>12ã€<code>el-table</code>çš„<code>fixedåˆ—</code>åŠ ä¸Šå®½åº¦ï¼Œä¸ç„¶è§†å›¾æœ‰æ—¶å€™å¼‚å¸¸</h4><h4 id="13ã€IE10-echarts-çš„é¢œè‰²å¦‚æœæœ‰alphaé€šé“å°±æ¸²æŸ“ä¸ºé»‘è‰²äº†ï¼Œé¼ æ ‡ç§»ä¸Šå»æ‰å˜æ­£å¸¸"><a href="#13ã€IE10-echarts-çš„é¢œè‰²å¦‚æœæœ‰alphaé€šé“å°±æ¸²æŸ“ä¸ºé»‘è‰²äº†ï¼Œé¼ æ ‡ç§»ä¸Šå»æ‰å˜æ­£å¸¸" class="headerlink" title="13ã€IE10 echarts çš„é¢œè‰²å¦‚æœæœ‰alphaé€šé“å°±æ¸²æŸ“ä¸ºé»‘è‰²äº†ï¼Œé¼ æ ‡ç§»ä¸Šå»æ‰å˜æ­£å¸¸"></a>13ã€IE10 echarts çš„é¢œè‰²å¦‚æœæœ‰alphaé€šé“å°±æ¸²æŸ“ä¸ºé»‘è‰²äº†ï¼Œé¼ æ ‡ç§»ä¸Šå»æ‰å˜æ­£å¸¸</h4><h4 id="14ã€echarts-IE10-ä¸‹è½½æŠ¥å¼‚å¸¸"><a href="#14ã€echarts-IE10-ä¸‹è½½æŠ¥å¼‚å¸¸" class="headerlink" title="14ã€echarts IE10 ä¸‹è½½æŠ¥å¼‚å¸¸"></a>14ã€echarts IE10 ä¸‹è½½æŠ¥å¼‚å¸¸</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚å¸¸æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// .\node_modules\echarts\lib\component\toolbox\feature\SaveAsImage.js</span></span><br><span class="line"><span class="comment">// å¼‚å¸¸ä½ç½®</span></span><br><span class="line"><span class="keyword">var</span>Â blobÂ =Â <span class="keyword">new</span>Â <span class="title class_">Blob</span>([u8arr])</span><br><span class="line"><span class="comment">// è§£å†³</span></span><br><span class="line"><span class="keyword">try</span>Â &#123;</span><br><span class="line">Â Â <span class="keyword">var</span>Â blobÂ =Â <span class="keyword">new</span>Â <span class="title class_">Blob</span>([u8arr]);</span><br><span class="line">&#125;Â <span class="keyword">catch</span>Â (error)Â &#123;</span><br><span class="line">Â Â <span class="keyword">var</span>Â blobÂ =Â <span class="keyword">new</span>Â <span class="title class_">Blob</span>([u8arr.<span class="property">buffer</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="15ã€è¯·æ±‚æ—¶æ—¶é—´ä¼ å‚é”™è¯¯"><a href="#15ã€è¯·æ±‚æ—¶æ—¶é—´ä¼ å‚é”™è¯¯" class="headerlink" title="15ã€è¯·æ±‚æ—¶æ—¶é—´ä¼ å‚é”™è¯¯"></a>15ã€è¯·æ±‚æ—¶æ—¶é—´ä¼ å‚é”™è¯¯</h4><p>  å½“ç”¨<code>new Date()</code>æˆ–è€… <code>el-date-picker</code>æœªæ ¼å¼åŒ–æ—¶é—´å¾—åˆ°çš„æœ¬åœ°æ—¶é—´<code>Fri Nov 19 2021 17:07:41 GMT+0800 (GMT+08:00)</code>ç›´æ¥å½“ä½œå‚æ•°é€šè¿‡axioså‘é€æ—¶ï¼Œæ—¶é—´ä¼šè¢«ç½®ä¸ºæ ¼æ—å¨æ²»æ—¶é—´ã€‚æ‰€ä»¥ï¼Œæ‰€æœ‰çš„æ—¶é—´éƒ½è¦æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ—¶é—´æˆ³</p><h1 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h1><h4 id="1ã€echartså¦‚ä½•ä¿®æ”¹é»˜è®¤é¢œè‰²"><a href="#1ã€echartså¦‚ä½•ä¿®æ”¹é»˜è®¤é¢œè‰²" class="headerlink" title="1ã€echartså¦‚ä½•ä¿®æ”¹é»˜è®¤é¢œè‰²"></a>1ã€echartså¦‚ä½•ä¿®æ”¹é»˜è®¤é¢œè‰²</h4><blockquote><p>1ã€ \node_modules\echarts\lib\model\globalDefault.js ä¿®æ”¹å…¶ä¸­çš„color<br>  2ã€ä¸»é¢˜å®šåˆ¶</p></blockquote><h4 id="2ã€echartsè‡ªå®šä¹‰toolboxå¹¶ä¿å­˜å›¾ç‰‡"><a href="#2ã€echartsè‡ªå®šä¹‰toolboxå¹¶ä¿å­˜å›¾ç‰‡" class="headerlink" title="2ã€echartsè‡ªå®šä¹‰toolboxå¹¶ä¿å­˜å›¾ç‰‡"></a>2ã€echartsè‡ªå®šä¹‰toolboxå¹¶ä¿å­˜å›¾ç‰‡</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¿…é¡»ä»¥ my å¼€å¤´</span></span><br><span class="line"><span class="keyword">let</span> mySaveAsImage = &#123;</span><br><span class="line">  <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;ä¸‹è½½å›¾ç‰‡&#x27;</span>,</span><br><span class="line">  <span class="attr">icon</span>: <span class="string">&#x27;image:///images/download.png&#x27;</span>,</span><br><span class="line">  <span class="attr">onclick</span>: <span class="function">(<span class="params">params,api</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> type = <span class="string">&#x27;png&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> imgUrl = api.<span class="title function_">getConnectedDataURL</span>(&#123;</span><br><span class="line">      type,</span><br><span class="line">      <span class="attr">pixelRatio</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">backgroundColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">      <span class="attr">excludeComponents</span>: [<span class="string">&#x27;toolbox&#x27;</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> name = (params.<span class="property">option</span>.<span class="property">title</span> &amp;&amp; params.<span class="property">option</span>.<span class="property">title</span>[<span class="number">0</span>].<span class="property">text</span>) || <span class="string">&#x27;echartä¸‹è½½&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="property">msSaveOrOpenBlob</span>) &#123;</span><br><span class="line">      <span class="comment">// æˆªå–base64çš„æ•°æ®å†…å®¹ï¼ˆå»æ‰å‰é¢çš„æè¿°ä¿¡æ¯ï¼Œç±»ä¼¼è¿™æ ·çš„ä¸€æ®µï¼šdata:image/png;base64,ï¼‰å¹¶è§£ç ä¸º2è¿›åˆ¶æ•°æ®</span></span><br><span class="line">      <span class="keyword">let</span> bstr = <span class="title function_">atob</span>(imgUrl.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">      <span class="comment">// è·å–è§£ç åçš„äºŒè¿›åˆ¶æ•°æ®çš„é•¿åº¦ï¼Œç”¨äºåé¢åˆ›å»ºäºŒè¿›åˆ¶æ•°æ®å®¹å™¨</span></span><br><span class="line">      <span class="keyword">let</span> n = bstr.<span class="property">length</span></span><br><span class="line">      <span class="comment">// åˆ›å»ºä¸€ä¸ªUint8Arrayç±»å‹çš„æ•°ç»„ä»¥å­˜æ”¾äºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line">      <span class="keyword">let</span> u8arr = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(n)</span><br><span class="line">      <span class="comment">// å°†äºŒè¿›åˆ¶æ•°æ®å­˜å…¥Uint8Arrayç±»å‹çš„æ•°ç»„ä¸­</span></span><br><span class="line">      <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        u8arr[n] = bstr.<span class="title function_">charCodeAt</span>(n)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> blob</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([u8arr])</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([u8arr.<span class="property">buffer</span>])</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// è°ƒç”¨æµè§ˆå™¨çš„æ–¹æ³•ï¼Œè°ƒèµ·IEçš„ä¸‹è½½æµç¨‹</span></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="title function_">msSaveOrOpenBlob</span>(blob, name + <span class="string">&#x27;.&#x27;</span> + type)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//ç±»ä¼¼chromeæµè§ˆå™¨åˆ›å»ºä¸€ä¸ªaæ ‡ç­¾å¹¶ä½¿ç”¨aæ ‡ç­¾çš„hrefå±æ€§ä¸‹è½½</span></span><br><span class="line">      <span class="keyword">let</span> tempA = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">      tempA.<span class="property">download</span> = name + <span class="string">&#x27;.&#x27;</span> + type</span><br><span class="line">      tempA.<span class="property">href</span> = imgUrl</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(tempA)</span><br><span class="line">      tempA.<span class="title function_">click</span>()</span><br><span class="line">      tempA.<span class="title function_">remove</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">option.<span class="property">toolbox</span> = &#123;</span><br><span class="line">  <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">feature</span>: &#123;</span><br><span class="line">    mySaveAsImage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-ä½¿ç”¨å•ä¸ªel-tooltipæ ¹æ®æ–‡å­—æ˜¯å¦æº¢å‡º-åŠ¨æ€æ˜¾ç¤º"><a href="#3-ä½¿ç”¨å•ä¸ªel-tooltipæ ¹æ®æ–‡å­—æ˜¯å¦æº¢å‡º-åŠ¨æ€æ˜¾ç¤º" class="headerlink" title="3. ä½¿ç”¨å•ä¸ªel-tooltipæ ¹æ®æ–‡å­—æ˜¯å¦æº¢å‡º,åŠ¨æ€æ˜¾ç¤º"></a>3. ä½¿ç”¨å•ä¸ªel-tooltipæ ¹æ®æ–‡å­—æ˜¯å¦æº¢å‡º,åŠ¨æ€æ˜¾ç¤º</h4><ul><li>template<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">&quot;(item,key) in 10&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">mouseenter.native</span>=<span class="string">&quot;handleMouseEnter&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">mouseleave.native</span>=<span class="string">&quot;handleCellMouseLeave&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cell&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tooltip</span></span></span><br><span class="line"><span class="tag">      <span class="attr">ref</span>=<span class="string">&quot;tooltip&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:content</span>=<span class="string">&quot;tooltipContent&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placement</span>=<span class="string">&quot;top&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">effect</span>=<span class="string">&quot;light&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-tooltip</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>script<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">activateTooltip = _.<span class="title function_">debounce</span>(<span class="function">(<span class="params">tooltip</span>) =&gt;</span> tooltip.<span class="title function_">handleShowPopper</span>(), <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">handleMouseEnter</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> cell = event.<span class="property">target</span></span><br><span class="line">  <span class="keyword">const</span> cellChild = event.<span class="property">target</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.cell&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (cell) &#123;</span><br><span class="line">    <span class="comment">// è·å¾—æ–‡å­—éƒ¨åˆ†çš„å®½åº¦</span></span><br><span class="line">    <span class="keyword">const</span> range = <span class="variable language_">document</span>.<span class="title function_">createRange</span>()</span><br><span class="line">    range.<span class="title function_">setStart</span>(cellChild, <span class="number">0</span>)</span><br><span class="line">    range.<span class="title function_">setEnd</span>(cellChild, cellChild.<span class="property">childNodes</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="keyword">const</span> rangeWidth = range.<span class="title function_">getBoundingClientRect</span>().<span class="property">width</span></span><br><span class="line">    <span class="keyword">const</span> padding =</span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(cellChild).<span class="property">paddingLeft</span> || <span class="number">0</span>) +</span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(cellChild).<span class="property">paddingRight</span> || <span class="number">0</span>)</span><br><span class="line">      <span class="comment">// å¦‚æœæº¢å‡º</span></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      (rangeWidth + padding &gt; cell.<span class="property">offsetWidth</span> || cellChild.<span class="property">scrollWidth</span> &gt; cell.<span class="property">offsetWidth</span>) &amp;&amp;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">tooltip</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">const</span> tooltip = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">tooltip</span></span><br><span class="line">      <span class="comment">// æ”¹å˜el-tooltipçš„æ˜¾ç¤ºå†…å®¹</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">tooltipContent</span> = cellChild.<span class="property">innerText</span> || cellChild.<span class="property">textContent</span></span><br><span class="line">      <span class="comment">// æ”¹å˜el-tooltipçš„å…³è”å…ƒç´ </span></span><br><span class="line">      tooltip.<span class="property">referenceElm</span> = cell</span><br><span class="line">      <span class="comment">// å°†ä¹‹å‰çš„é”€æ¯é‡æ–°å±•ç¤ºæ–°çš„</span></span><br><span class="line">      tooltip.<span class="property">$refs</span>.<span class="property">popper</span> &amp;&amp; (tooltip.<span class="property">$refs</span>.<span class="property">popper</span>.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">      tooltip.<span class="title function_">doDestroy</span>()</span><br><span class="line">      tooltip.<span class="title function_">setExpectedState</span>(<span class="literal">true</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">activateTooltip</span>(tooltip)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// é¼ æ ‡ç§»å‡º</span></span><br><span class="line"><span class="title function_">handleCellMouseLeave</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> tooltip = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">tooltip</span></span><br><span class="line">  <span class="keyword">if</span> (tooltip) &#123;</span><br><span class="line">    tooltip.<span class="title function_">setExpectedState</span>(<span class="literal">false</span>)</span><br><span class="line">    tooltip.<span class="title function_">handleClosePopper</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œæ€»ç»“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vmwareç½‘ç»œ</title>
      <link href="/2021/08/13/vmware%E7%BD%91%E7%BB%9C/"/>
      <url>/2021/08/13/vmware%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="1-å¦‚ä½•è®¾ç½®VMware-ä½¿è™šæ‹Ÿæœºä¸ä¸»æœºä½äºåŒä¸€ç½‘æ®µ"><a href="#1-å¦‚ä½•è®¾ç½®VMware-ä½¿è™šæ‹Ÿæœºä¸ä¸»æœºä½äºåŒä¸€ç½‘æ®µ" class="headerlink" title="1. å¦‚ä½•è®¾ç½®VMware ä½¿è™šæ‹Ÿæœºä¸ä¸»æœºä½äºåŒä¸€ç½‘æ®µ"></a>1. å¦‚ä½•è®¾ç½®VMware ä½¿è™šæ‹Ÿæœºä¸ä¸»æœºä½äºåŒä¸€ç½‘æ®µ</h2><h3 id="Step1-è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"><a href="#Step1-è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨" class="headerlink" title="Step1 è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"></a>Step1 è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</h3><p>èœå•-&gt;ç¼–è¾‘-&gt;è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨<br><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210813222303.png" alt="image"><br>ç‚¹å‡»çº¢è‰²æ–¹æ¡†è¿›è¡Œä¸‹ä¸€æ­¥</p><h3 id="Step2-æ¡¥æ¥åˆ°çœŸå®ç½‘å¡"><a href="#Step2-æ¡¥æ¥åˆ°çœŸå®ç½‘å¡" class="headerlink" title="Step2 æ¡¥æ¥åˆ°çœŸå®ç½‘å¡"></a>Step2 æ¡¥æ¥åˆ°çœŸå®ç½‘å¡</h3><p><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210813222701.png" alt="image"><br>é€‰ä¸­ç¬¬ä¸€ä¸ªçº¢æ¡†ä¸­çš„VMnet0<br>åœ¨ç¬¬äºŒä¸ªçº¢æ¡†ä¸­é€‰æ‹©æ¡¥æ¥æ¨¡å¼ï¼Œæ¡¥æ¥åˆ°è‡ªå·±ç”µè„‘çš„çœŸå®ç½‘å¡</p><h3 id="Step3-åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©è¯¥ç½‘ç»œ"><a href="#Step3-åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©è¯¥ç½‘ç»œ" class="headerlink" title="Step3 åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©è¯¥ç½‘ç»œ"></a>Step3 åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­é€‰æ‹©è¯¥ç½‘ç»œ</h3><p><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210813222943.png" alt="image"></p><h2 id="2-NAT-é…ç½®-å¹¶è®¾ç½®é™æ€IP"><a href="#2-NAT-é…ç½®-å¹¶è®¾ç½®é™æ€IP" class="headerlink" title="2. NAT é…ç½® å¹¶è®¾ç½®é™æ€IP"></a>2. NAT é…ç½® å¹¶è®¾ç½®é™æ€IP</h2><p>å®¿ä¸»æœºç½‘ç»œçŠ¶æ€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IPv4 åœ°å€ . . . . . . . . . . . . : 192.168.0.100</span><br><span class="line">å­ç½‘æ©ç   . . . . . . . . . . . . : 255.255.255.0</span><br><span class="line">é»˜è®¤ç½‘å…³. . . . . . . . . . . . . : 192.168.0.1</span><br></pre></td></tr></table></figure><h3 id="2-1-VMnet8è®¾ç½®"><a href="#2-1-VMnet8è®¾ç½®" class="headerlink" title="2.1 VMnet8è®¾ç½®"></a>2.1 VMnet8è®¾ç½®</h3><p>VMwareè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨<br>ç‚¹å‡»æ›´æ”¹è®¾ç½®è·å¾—ç®¡ç†å‘˜æƒé™</p><p>ä¿®æ”¹ä¸‹æ–¹çš„å­ç½‘IPå’Œå­ç½‘æ©ç ã€‚å‰ä¸¤éƒ¨åˆ†å¿…é¡»å’Œä¸»æœºIPçš„å‰ä¸¤éƒ¨åˆ†ä¸€æ ·ï¼Œå³192.168ï¼Œç¬¬ä¸‰éƒ¨åˆ†å¾—ä¸ä¸€æ ·ï¼Œä¸èƒ½æ˜¯0ï¼Œæˆ‘åœ¨è¿™é‡Œå¡«2ï¼Œç¬¬å››éƒ¨åˆ†è¡¥0ã€‚å­ç½‘æ©ç éƒ½æ˜¯255.255.255.0ï¼Œå¡«å†™å®Œæ¯•åï¼Œç‚¹å‡» NATè®¾ç½®ï¼š</p><p>å¡«å…¥ç½‘å…³IPï¼Œå‰ä¸‰éƒ¨åˆ†ï¼Œå³ç½‘æ®µå¿…é¡»æ˜¯192.168.2ï¼Œå’Œå‰é¢ä¿æŒä¸€è‡´ï¼Œç¬¬å››éƒ¨åˆ†éšæ„ï¼Œè¿™é‡Œå¡«2ï¼Œç½‘å…³IPæ•´ä½“å°±æ˜¯<code>192.168.2.2</code>ï¼Œç‚¹å‡»ç¡®å®šåè¿”å›ï¼Œå†ç‚¹å‡» DHCPè®¾ç½®ï¼š</p><p>æ³¨æ„èµ·å§‹å’Œç»“æŸçš„IPç½‘æ®µä¹Ÿå¿…é¡»æ˜¯192.168.2ï¼Œè¿™ä¸ªèŒƒå›´ä¸è¦åŒ…æ‹¬ç½‘å…³IPï¼š192.168.2.2ï¼Œè™šæ‹ŸDHCPæœåŠ¡å™¨è®¾ç½®å®Œæˆï¼Œä¹‹åä¸€è·¯ç¡®å®šï¼ŒNATç½‘ç»œè®¾ç½®ç»“æŸã€‚ï¼ˆå¦‚æœNATæ¨¡å¼ä¸‹ï¼Œæœ‰å¾ˆå¤šå°è™šæ‹Ÿæœºï¼Œå°±æŠŠè¿™ä¸ªèŒƒå›´æ‰©å¤§ï¼‰</p><h3 id="2-3-è™šæ‹Ÿæœºçš„é™æ€IP"><a href="#2-3-è™šæ‹Ÿæœºçš„é™æ€IP" class="headerlink" title="2.3 è™šæ‹Ÿæœºçš„é™æ€IP"></a>2.3 è™šæ‹Ÿæœºçš„é™æ€IP</h3><p>è®¾ç½®é™æ€IPåœ¨ä¸Šè¿°DHCPèŒƒå›´å†…</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è™šæ‹Ÿæœº </tag>
            
            <tag> VMware </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç¬”è®°</title>
      <link href="/2021/06/30/mysql%E7%AC%94%E8%AE%B0/"/>
      <url>/2021/06/30/mysql%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1-å‘å±•å†å²"><a href="#1-å‘å±•å†å²" class="headerlink" title="1. å‘å±•å†å²"></a>1. å‘å±•å†å²</h1><p>ç½‘çŠ¶æ•°æ®åº“ -&gt; å±‚æ¬¡æ€§æ•°æ®åº“ -&gt; å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰-&gt; éå…³ç³»å‹æ•°æ®åº“ï¼ˆNOSQLï¼‰</p><h1 id="2-å…³ç³»å‹æ•°æ®åº“çš„é€»è¾‘ç»“æ„"><a href="#2-å…³ç³»å‹æ•°æ®åº“çš„é€»è¾‘ç»“æ„" class="headerlink" title="2. å…³ç³»å‹æ•°æ®åº“çš„é€»è¾‘ç»“æ„"></a>2. å…³ç³»å‹æ•°æ®åº“çš„é€»è¾‘ç»“æ„</h1><p>  SERVER -&gt; DataBase -&gt; Table -&gt;  Row -&gt; Column  </p><p>SQLite,MySQL,PostgreSQL,SQL Server,Oracle,DB2</p><h1 id="3-MySQL"><a href="#3-MySQL" class="headerlink" title="3. MySQL"></a>3. MySQL</h1><h2 id="ï¼ˆ1ï¼‰MySQLéƒ¨ç½²ç»“æ„"><a href="#ï¼ˆ1ï¼‰MySQLéƒ¨ç½²ç»“æ„" class="headerlink" title="ï¼ˆ1ï¼‰MySQLéƒ¨ç½²ç»“æ„"></a>ï¼ˆ1ï¼‰MySQLéƒ¨ç½²ç»“æ„</h2><p>æœåŠ¡å™¨ç«¯ï¼šè´Ÿè´£å­˜å‚¨ï¼Œç»´æŠ¤æ•°æ®   </p><p>mysqld.exe  å¯åŠ¨mysql</p><p>å®¢æˆ·ç«¯ï¼šè´Ÿè´£è¿æ¥æ•°æ®åº“</p><p>mysql.exe    å®¢æˆ·ç«¯æ–‡ä»¶</p><p>(æ•°æ®åº“èŒƒå¼,è®¾è®¡ä¸ªäººé¡¹ç›®æ•°æ®åº“)</p><h2 id="ï¼ˆ2ï¼‰å¸¸ç”¨ç®¡ç†å‘½ä»¤"><a href="#ï¼ˆ2ï¼‰å¸¸ç”¨ç®¡ç†å‘½ä»¤" class="headerlink" title="ï¼ˆ2ï¼‰å¸¸ç”¨ç®¡ç†å‘½ä»¤"></a>ï¼ˆ2ï¼‰å¸¸ç”¨ç®¡ç†å‘½ä»¤</h2><p>ä¹¦å†™è§„èŒƒï¼š</p><ol><li><p>å…³é”®å­—å¤§å†™</p></li><li><p>é”™è¯¯è¡Œåœæ­¢</p></li><li><p>å¯ä»¥è·¨è¶Šå¤šè¡Œ</p></li><li><p>å•è¡Œæ³¨é‡Šï¼š# SHOW DATABASES;</p></li><li><p>å¤šè¡Œæ³¨é‡Šï¼š/*SHOW DATABASES;*/</p></li></ol><ul><li>mysql.exe -h127.0.0.1 -P3306 -uroot -p</li></ul><p>-h host ä¸»æœº æœåŠ¡å™¨çš„IP/åŸŸå 127.0.0.1 localhost</p><p>-P port  3306</p><p>-u user    root</p><p>-p password é»˜è®¤ä¸ºç©º</p><ul><li>mysql -uroot //ç™»å½•</li><li>QUIT;</li><li>SHOW DATABASES;</li><li>USE æ•°æ®åº“å; use test;</li><li>SHOW TABLES;</li><li>DESC è¡¨åç§°;        æè¿°æŒ‡å®šæ•°æ®è¡¨ä¸‹éƒ½æœ‰å“ªäº›åˆ—</li><li>show variables like â€˜%char%â€™;</li></ul><h2 id="ï¼ˆ3ï¼‰SQLå‘½ä»¤"><a href="#ï¼ˆ3ï¼‰SQLå‘½ä»¤" class="headerlink" title="ï¼ˆ3ï¼‰SQLå‘½ä»¤"></a>ï¼ˆ3ï¼‰SQLå‘½ä»¤</h2><p>ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç”¨äºæ“ä½œå…³ç³»å‹æ•°æ®åº“ï¼Œä¸»è¦æ˜¯å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚</p><p>äº¤äº’æ¨¡å¼  </p><p>è„šæœ¬æ¨¡å¼  mysql -uroot&lt;æ‹–æ‹½è„šæœ¬æ–‡ä»¶è‡³æ­¤</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> NAMES utf8;</span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> æ•°æ®åº“å ;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE æ•°æ®åº“å CHARSET<span class="operator">=</span>UTF8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (     </span><br><span class="line">sid <span class="type">INT</span> ,</span><br><span class="line">  name <span class="type">VARCHAR</span>(<span class="number">64</span>),</span><br><span class="line">  sex <span class="type">VARCHAR</span>(<span class="number">1</span>),</span><br><span class="line">  score <span class="type">INT</span></span><br><span class="line">); <span class="operator">/</span><span class="operator">/</span>åˆ›å»ºè¡¨student</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student VALUAS(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;ran&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;60&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span>ã€€student;</span><br><span class="line"><span class="keyword">UPDATE</span> student <span class="keyword">SET</span> email<span class="operator">=</span><span class="string">&#x27;lwz@163.com&#x27;</span>,phone<span class="operator">=</span><span class="string">&#x27;13712345678&#x27;</span> <span class="keyword">WHERE</span> uid<span class="operator">=</span><span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> uid<span class="operator">=</span><span class="string">&#x27;2&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ4ï¼‰åˆ—ç±»å‹"><a href="#ï¼ˆ4ï¼‰åˆ—ç±»å‹" class="headerlink" title="ï¼ˆ4ï¼‰åˆ—ç±»å‹"></a>ï¼ˆ4ï¼‰åˆ—ç±»å‹</h2><p>1.æ•°å€¼å‹ï¼ˆä¸åŠ å¼•å·ï¼‰</p><ul><li>tinyint 1byte</li></ul><ul><li><p>smallint 2byte</p></li><li><p>int 4byte</p></li><li><p>bigint 8byte</p></li><li><p>float 4byte æµ®ç‚¹ 3.4e38</p></li><li><p>double 8byte </p></li><li><p>decimal(M,D) å®šç‚¹å°æ•°ï¼ŒMæ€»æœ‰æ•ˆä½ï¼ŒDå°æ•°ä½ 99999.99</p></li><li><p>boolean/bool TRUEå’ŒFALSE ä¸èƒ½åŠ å¼•å·</p></li></ul><p>2.æ—¥æœŸæ—¶é—´å‹ï¼ˆå¿…é¡»åŠ å¼•å·ï¼‰</p><ul><li>date 2021-03-02</li><li>time 14:56:30</li><li>datetime 2021-03-02 14:56:30</li></ul><p>3.å­—ç¬¦ä¸²å‹ï¼ˆå¿…é¡»åŠ å¼•å·ï¼‰</p><ul><li>varchar(m) å˜é•¿å­—ç¬¦ä¸²,m-é•¿åº¦ æœ€å¤§å€¼65535</li><li>char(m) å®šé•¿å­—ç¬¦ä¸² m-æœ€å¤§å€¼255</li><li>text å¤§å‹å˜é•¿å­—ç¬¦ä¸² æœ€å¤§å€¼2G</li></ul><h2 id="ï¼ˆ5ï¼‰åˆ—çº¦æŸ"><a href="#ï¼ˆ5ï¼‰åˆ—çº¦æŸ" class="headerlink" title="ï¼ˆ5ï¼‰åˆ—çº¦æŸ"></a>ï¼ˆ5ï¼‰åˆ—çº¦æŸ</h2><p>å…­ç§çº¦æŸ</p><ul><li>primary key(ä¸»é”®çº¦æŸ);  // ç¦æ­¢åˆ—ä¸­å‡ºç°é‡å¤çš„å€¼ã€‚é€šå¸¸åŠ åœ¨ç¼–å·ä¸Šï¼Œè‡ªåŠ¨æ’åºï¼Œä¼šå¢å¿«æŸ¥æ‰¾é€Ÿåº¦</li><li>NOT NULL(éç©ºçº¦æŸ)</li><li>UNIQUE(å”¯ä¸€çº¦æŸ) // å…è®¸æ’å…¥NULL;</li><li>DEFAULT å€¼ //ä¸¤ç§æ–¹æ³•æ’å…¥<ul><li>INSERT INTO laptop VALUES(4,â€™æƒ æ™®æš—å½±ç²¾çµ6ä»£ã€2021æ–°å“ã€‘â€™,7599.00,â€™GTX1650Tiâ€™,â€™PCI-eå›ºæ€â€™,â€™2021-01-01â€™,DEFAULT,30);</li><li>INSERT INTO laptop(lid,title,price,spec,detail,shelfTime,familyId)      VALUES(2,â€™è”æƒ³(LENOVO)æ‹¯æ•‘è€…R7000 15.6è‹±å¯¸æ¸¸æˆç¬”è®°æœ¬ç”µè„‘â€™,5899.00,â€™GTX1650â€™,â€™å…¨æ–°é”é¾™7nmâ€™,â€™2020-11-01â€™,10);</li><li>INSERT INTO laptop(lid,title) VALUES(7,â€™åç¡•å æœºå ¡å’â€™);<em>//</em> <em>å…¶ä»–ä¸ºNULL</em></li></ul></li><li>check()ï¼ˆæ£€æŸ¥çº¦æŸï¼‰//mysql ä¸æ”¯æŒæ£€æŸ¥çº¦æŸï¼Œå› ä¸ºä¸¥é‡å½±å“æ•°æ®çš„æ’å…¥é€Ÿåº¦</li><li>FOREIGN KEYï¼ˆå¤–é”®çº¦æŸï¼‰<ul><li>å…è®¸æ’å…¥NULLï¼Œå¤–é”®åˆ—è¦å’Œå¯¹åº”è¡¨çš„ä¸»é”®åˆ—ï¼Œåˆ—ç±»å‹è¦ä¿ä¸€è‡´</li><li>å†™æ³•ï¼šâ€¦,familyId INT , FOREIGN      KEY(familyId) references family(fid)</li></ul></li><li>AUTO_INCREMENTï¼ˆå¢åˆ—ï¼‰<ul><li>è‡ªå¢åˆ—å¿…é¡»åœ¨PRIMARY KEYåˆ—</li><li>å…è®¸æ‰‹åŠ¨èµ‹å€¼</li></ul></li></ul><p>INSERT INTO family VALUES(10,â€™è”æƒ³â€™),(20,â€™æˆ´å°”â€™),(30,â€™å°ç±³â€™),(NULL,â€™æƒ æ™®â€™); *//* *ä¸€æ¬¡æ€§æ’å…¥å¤šæ¡å¯¹åˆ—çº¦æŸæœ‰å½±å“*</p><h2 id="ï¼ˆ6ï¼‰ç®€å•æŸ¥è¯¢"><a href="#ï¼ˆ6ï¼‰ç®€å•æŸ¥è¯¢" class="headerlink" title="ï¼ˆ6ï¼‰ç®€å•æŸ¥è¯¢"></a>ï¼ˆ6ï¼‰ç®€å•æŸ¥è¯¢</h2><ul><li>æŸ¥è¯¢ç‰¹å®šåˆ— ï¼š SELECT åˆ—å FROM è¡¨å</li><li>æŸ¥è¯¢å…¨éƒ¨åˆ—ï¼š SELECT * FROM è¡¨å</li><li>èµ·åˆ«åï¼šselect åˆ—å as åˆ«å     from è¡¨å</li><li>æ˜¾ç¤ºä¸åŒçš„è®°å½•ï¼šSELECT DISTINCT SEX FROM EMP; <em>//ç›¸åŒè®°å½•åªæ˜¾ç¤ºä¸€æ¬¡</em></li><li>æŸ¥è¯¢æ—¶è®¡ç®—æ’åºï¼š select ename as å§“å,(salary+2000)*12+30000     as å¹´è–ª,birthday as ç”Ÿæ—¥ from     emp order by å¹´è–ª desc,ç”Ÿæ—¥     asc; <em>//asc(å‡åº) descendant(é™åº)</em></li><li>æ¡ä»¶æŸ¥è¯¢ï¼š<ul><li>SELECT * FROM emp WHERE sex=FALSE;</li><li>SELECT * FROM emp WHERE salary&gt;=15000;</li><li>SELECT * FROM emp WHERE deptid IS NULL;</li><li>SELECT * FROM emp WHERE deptid IS NOT NULL;</li><li>SELECT * FROM emp WHERE salary&gt;10000 AND salary&lt;20000;</li><li>SELECT * FROM emp WHERE salary BETWEEN      12000 AND 22000; <em>//ç­‰æ•ˆäºSELECT * FROM emp WHERE salary&gt;=12000 AND salary&lt;=22000;</em></li><li>SELECT * FROM emp WHERE salary&lt;15000      OR salary&gt;20000; </li><li>SELECT * FROM emp WHERE birthday &gt;= â€˜1996-01-01â€™ AND birthday      &lt;= â€˜1996-12-31â€™;</li><li>SELECT * FROM emp WHERE deptid IN (2,3) ; <em>//ç­‰æ•ˆäºSELECT * FROM emp WHERE deptid=2 or deptid=3;</em></li><li>SELECT * FROM emp WHERE deptid NOT IN (2,3) ; </li></ul></li><li>æ¨¡ç³Šæ¡ä»¶æŸ¥è¯¢ï¼š<ul><li>SELECT * FROM emp WHERE ename LIKE â€˜%e%â€™; <em>// %</em> <em>åŒ¹é…ä»»æ„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦  _ åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</em></li></ul></li><li>åˆ†é¡µæŸ¥è¯¢<ul><li>SELECT * FROM emp LIMIT0,2;</li><li>select ename as å§“å,birthday as ç”Ÿæ—¥,salary as      å·¥èµ„ from emp where sex=1 order by salary desc      limit 0,3;//æŸ¥è¯¢å‡ºç”·å‘˜å·¥ä¸­å·¥èµ„æœ€é«˜çš„çš„å‰3ä¸ªäººçš„å§“åï¼Œç”Ÿæ—¥ï¼Œå·¥èµ„</li></ul></li></ul><h2 id="ï¼ˆ7ï¼‰å¤æ‚æŸ¥è¯¢"><a href="#ï¼ˆ7ï¼‰å¤æ‚æŸ¥è¯¢" class="headerlink" title="ï¼ˆ7ï¼‰å¤æ‚æŸ¥è¯¢"></a>ï¼ˆ7ï¼‰å¤æ‚æŸ¥è¯¢</h2><p>1)èšåˆæŸ¥è¯¢/åˆ†ç»„æŸ¥è¯¢</p><ul><li>select count(eid) from emp where sex=1; <em>// count sum avg max min</em>  <em>èšåˆå‡½æ•°</em></li><li>select * from emp where year(birthday)=1993;</li><li>select count(eid) , sex from emp group by sex;</li></ul><p>2)å­æŸ¥è¯¢ </p><ul><li>select ename ,salary from emp where salary&gt;(select salary from emp     where ename=â€™Tomâ€™); <em>// &gt;     ,&gt;=,!=,=,&lt;,&lt;=</em></li><li>select * from dept where not exists (select * from emp where     emp.deptid=dept.did); <em>//     exists, not exists</em></li><li>select * from emp where year(birthday)=(select year(birthday) from     emp where ename=â€™tomâ€™) and ename!=â€™tomâ€™;</li></ul><p>3)å¤šè¡¨æŸ¥è¯¢ï¼Œå‰ææ˜¯ä¸¤ä¸ªè¡¨å¤–é”®å’Œä¸»é”®å»ºç«‹äº†å…³è”</p><ul><li>select ename,dname from emp,dept where emp.deptid=dept.did;</li><li>select * from emp inner join dept on emp.deptid=dept.did; <em>//å†…è¿æ¥</em></li><li>select * from emp left join dept on emp.deptid=dept.did; <em>//å¤–è¿æ¥</em></li><li>select ename, dname from emp right join dept on     emp.deptid=dept.did; <em>//å¤–è¿æ¥</em></li><li>(select ename,dname from emp left join dept on emp.deptid=dept.did)     UNION (select ename,dname from emp right join dept on     emp.deptid=dept.did);<em>//å…¨è¿æ¥ï¼ŒUNION ,UNIONã€€ï¼¡ï¼¬ï¼¬</em></li></ul><p><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210630222753.png" alt="image"></p><h1 id="4-cmdæ”¹utf8"><a href="#4-cmdæ”¹utf8" class="headerlink" title="4. cmdæ”¹utf8"></a>4. cmdæ”¹utf8</h1><p>é»˜è®¤ chcp 936 //gbk</p><p>chcp 65001 //utf8 æ¯æ¬¡å¯åŠ¨é‡è®¾</p><p>æ³¨å†Œè¡¨ â€œè®¡ç®—æœº\HKEY_USERS\S-1-5-21-4012883165-3823145716-963249972-1001\Software\Microsoft\Command Processorâ€ æ–°å»ºå­—ç¬¦ä¸²autorun=chcp65001</p><h1 id="5-æ³¨æ„"><a href="#5-æ³¨æ„" class="headerlink" title="5. æ³¨æ„"></a>5. æ³¨æ„</h1><ol><li>å¯†ç åŠ å¯† md5(â€˜123â€™); VARCHAR(32);   // md5(â€˜â€™)ä¸è¶³å¤Ÿå®‰å…¨æ€ä¹ˆåŠï¼Œï¼ˆå¯¹å‰ç«¯æ¥è¯´ï¼‰å¼ºåˆ¶ç”¨æˆ·è¾“å…¥å¥å£®å¯†ç  8ä½ä»¥ä¸Šå¤§å†™å°å†™æ•°å­—ç¬¦å·</li><li>åœ¨linux ä¸‹ä¸¥æ ¼åŒºåˆ†å¤§å°å†™  //è€å¸ˆè¦æ±‚ï¼šåº“åï¼Œè¡¨åï¼Œåˆ—åå…¨éƒ¨å°å†™</li></ol><h1 id="6-æ•°æ®åº“èŒƒå¼ï¼ˆè‡ªå­¦æ•´ç†ï¼‰"><a href="#6-æ•°æ®åº“èŒƒå¼ï¼ˆè‡ªå­¦æ•´ç†ï¼‰" class="headerlink" title="6. æ•°æ®åº“èŒƒå¼ï¼ˆè‡ªå­¦æ•´ç†ï¼‰"></a>6. æ•°æ®åº“èŒƒå¼ï¼ˆè‡ªå­¦æ•´ç†ï¼‰</h1><p><em>ä¸€å¼ æ•°æ®è¡¨çš„è¡¨ç»“æ„æ‰€ç¬¦åˆçš„æŸç§è®¾è®¡æ ‡å‡†çš„çº§åˆ«</em></p><ul><li>1NFï¼š<strong>ç¬¦åˆ1NFçš„å…³ç³»ä¸­çš„æ¯ä¸ªå±æ€§éƒ½ä¸å¯å†åˆ†ï¼Œæ˜¯æ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„æœ€åŸºæœ¬è¦æ±‚</strong></li><li>2NFï¼š</li><li>3NF</li><li>BCNF</li><li>4NF</li><li>5NF</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å¥½ç©å·¥å…·çš„ä½¿ç”¨</title>
      <link href="/2021/06/25/%E4%B8%80%E4%BA%9B%E5%A5%BD%E7%8E%A9%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2021/06/25/%E4%B8%80%E4%BA%9B%E5%A5%BD%E7%8E%A9%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="1-CCproxy-å±€åŸŸç½‘ä»£ç†"><a href="#1-CCproxy-å±€åŸŸç½‘ä»£ç†" class="headerlink" title="1. CCproxy å±€åŸŸç½‘ä»£ç†"></a>1. <code>CCproxy</code> å±€åŸŸç½‘ä»£ç†</h1><h2 id="CCProxyå¯ä»¥å®Œæˆä¸¤é¡¹å¤§çš„åŠŸèƒ½ï¼šä»£ç†å…±äº«ä¸Šç½‘å’Œå®¢æˆ·ç«¯ä»£ç†æƒé™ç®¡ç†ã€‚"><a href="#CCProxyå¯ä»¥å®Œæˆä¸¤é¡¹å¤§çš„åŠŸèƒ½ï¼šä»£ç†å…±äº«ä¸Šç½‘å’Œå®¢æˆ·ç«¯ä»£ç†æƒé™ç®¡ç†ã€‚" class="headerlink" title="CCProxyå¯ä»¥å®Œæˆä¸¤é¡¹å¤§çš„åŠŸèƒ½ï¼šä»£ç†å…±äº«ä¸Šç½‘å’Œå®¢æˆ·ç«¯ä»£ç†æƒé™ç®¡ç†ã€‚"></a><code>CCProxy</code>å¯ä»¥å®Œæˆä¸¤é¡¹å¤§çš„åŠŸèƒ½ï¼šä»£ç†å…±äº«ä¸Šç½‘å’Œå®¢æˆ·ç«¯ä»£ç†æƒé™ç®¡ç†ã€‚</h2><p>åªè¦å±€åŸŸç½‘å†…æœ‰ä¸€å°æœºå™¨èƒ½å¤Ÿä¸Šç½‘ï¼Œå…¶ä»–æœºå™¨å°±å¯ä»¥é€šè¿‡è¿™å°æœºå™¨ä¸Šå®‰è£…çš„<code>CCProxy</code>æ¥å…±äº«ä¸Šç½‘ã€‚<a href="http://www.ccproxy.com/download.htm">å›½å†…å®˜ç½‘</a></p><p>åœ¨è®¾ç½®ä¸­èƒ½çœ‹åˆ°ä»£ç†çš„ç«¯å£å·ï¼Œå…¶ä¸­ <code>808</code> ä¼šåœ¨åç»­ç”¨åˆ°</p><p><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210625180620.png" alt="image"></p><p><strong>é…ç½®äºŒçº§ä»£ç†</strong> ï¼Œè®©å±€åŸŸç½‘ä¸­çš„å…¶ä»–ç”µè„‘ä¹Ÿå¯ç”¨åˆ°æ­¤äºŒçº§ä»£ç†ï¼Œå‚è€ƒè‡ªå·±çš„å·¥å…·è®¾ç½®ç«¯å£</p><p><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210625180431.png" alt="image"></p><p>åœ¨éœ€è¦ç”¨åˆ°æ­¤ä»£ç†çš„ç”µè„‘ä¸­çš„ <code>è®¾ç½®</code> -<code>ç½‘ç»œå’Œ Internet</code>- <code>ä»£ç†</code> ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ <code>åœ°å€</code> å¤„å¡«å†™``CCproxy<code>ä¸»æœºçš„ IPï¼ˆå›¾ç‰‡ç¤ºä¾‹ä¸­æ˜¯</code>176.4.12.47<code>ï¼‰</code>ç«¯å£<code>å¡«</code>808`</p><h1 id="2-GitHub-jsDelivr-å»ºå›¾åºŠ"><a href="#2-GitHub-jsDelivr-å»ºå›¾åºŠ" class="headerlink" title="2. GitHubÂ + jsDelivrÂ  å»ºå›¾åºŠ"></a>2. <code>GitHub</code>Â + <code>jsDelivr</code>Â  å»ºå›¾åºŠ</h1><p><strong>ç¬¬ä¸€æ­¥</strong></p><p>æ³¨å†Œæˆ–ç™»å½•<a href="https://github.com/">GitHub</a>ã€‚è´¦æˆ·åå‡å®šä¸º <code>username</code>ã€‚ å»ºç«‹ä¸€ä¸ªå¼€æºçš„ä»“åº“ï¼Œä»“åº“åä»»å–ï¼Œå‡å®šä¸º<code>repo</code>ã€‚ä»“åº“ä¸‹å»ºç«‹ä¸€ä¸ª<code>img</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹ push ä¸€äº›å›¾ç‰‡ã€‚ï¼ˆ<code>Github</code>çš„ä½¿ç”¨æ­¤æ¬¡ä¸åœ¨ä»‹ç»ï¼‰ã€‚</p><p><strong>ç¬¬äºŒæ­¥</strong></p><p>ä½¿ç”¨<a href="https://www.jsdelivr.com/">jsDelivr</a>æ¥è¯·æ±‚<code>GitHub</code>ä¸Šæ‰˜ç®¡çš„é™æ€èµ„æºã€‚<code>url</code> ä¸º <code>https://cdn.jsdelivr.net/gh/username/repo/img/1.png</code></p><ul><li><code>username</code> GitHub ç”¨æˆ·å</li><li><code>repo</code> ä»“åº“å</li><li><code>/img/1.png</code>Â  å›¾ç‰‡åœ¨ä»“åº“ä¸­çš„è·¯å¾„</li></ul><p>åˆ°æ­¤æ­¥éª¤å³å®ç°äº† CDN è¯·æ±‚çš„åŠŸèƒ½ã€‚ä½†ç”¨èµ·æ¥å¾ˆéº»çƒ¦ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸ªå·¥å…·ã€‚</p><h1 id="3-åˆ©ç”¨-PicGo-æ›´å¿«æ·çš„ä½¿ç”¨GitHub-å›¾åºŠ"><a href="#3-åˆ©ç”¨-PicGo-æ›´å¿«æ·çš„ä½¿ç”¨GitHub-å›¾åºŠ" class="headerlink" title="3. åˆ©ç”¨ PicGoÂ  æ›´å¿«æ·çš„ä½¿ç”¨GitHubÂ  å›¾åºŠ"></a>3. åˆ©ç”¨ <code>PicGo</code>Â  æ›´å¿«æ·çš„ä½¿ç”¨<code>GitHub</code>Â  å›¾åºŠ</h1><p><code>PicGo</code> æ•™ç¨‹ï¼š<a href="https://github.com/Molunerfinn/PicGo">PicGo ä»“åº“</a></p><h1 id="4-å®å¡”ç®€å•å›¾åºŠä¸€é”®éƒ¨ç½²"><a href="#4-å®å¡”ç®€å•å›¾åºŠä¸€é”®éƒ¨ç½²" class="headerlink" title="4. å®å¡”ç®€å•å›¾åºŠä¸€é”®éƒ¨ç½²"></a>4. å®å¡”ç®€å•å›¾åºŠä¸€é”®éƒ¨ç½²</h1><p>æœç´¢<code>EasyImage ç®€å•å›¾åºŠ</code></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…·æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu18.04åˆæ­¥æ­å»ºnodejså’Œmariadb</title>
      <link href="/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/"/>
      <url>/2021/06/12/ubuntu18-04%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cmariadb/</url>
      
        <content type="html"><![CDATA[<p>å¿ƒè¡€æ¥æ½®æƒ³ç©ä¸€ä¸‹linuxå’ŒæœåŠ¡å™¨ï¼Œ å…¶ä»–åç«¯è¯­è¨€ä¹Ÿä¸ä¼šï¼Œåªèƒ½ç©ç©nodejsè¿™æ ·å­å•¦</p><p>ä¸‹é¢æ•´ç†äº†ä¸€äº›å®‰è£…è¿‡ç¨‹æœé›†çš„èµ„æ–™ä»¥åŠé‡åˆ°çš„é—®é¢˜ã€‚å› æ˜¯linuxå°ç™½ï¼Œéš¾å…æœ‰é”™ï¼Œè¿˜è¯·æŒ‡æ­£ï¼</p><h2 id="1-vimçš„å®‰è£…"><a href="#1-vimçš„å®‰è£…" class="headerlink" title="1. vimçš„å®‰è£…"></a>1. vimçš„å®‰è£…</h2><p>æˆ‘çš„è™šæ‹Ÿæœºå»ºå¥½åï¼Œæ²¡æœ‰vimï¼Œé¡»æ‰‹åŠ¨å®‰è£…ã€‚åœ¨ç»ˆç«¯ä¸­è¾“å…¥ <code>sudo apt install vim</code> ,å®‰è£…è¿‡ç¨‹ä¸­å…ˆè¾“å…¥è´¦æˆ·å¯†ç ï¼Œåç»­æç¤ºæ˜¯å¦ç»§ç»­æŒ‰ <code>y</code>å›è½¦å³å¥½</p><h2 id="2-ubuntu18-04-å¼€å¯rootè´¦æˆ·ç™»å½•"><a href="#2-ubuntu18-04-å¼€å¯rootè´¦æˆ·ç™»å½•" class="headerlink" title="2. ubuntu18.04 å¼€å¯rootè´¦æˆ·ç™»å½•"></a>2. ubuntu18.04 å¼€å¯rootè´¦æˆ·ç™»å½•</h2><p>2.1 åœ¨å·²ç™»å½•å½“å‰è´¦æˆ·çš„æƒ…å†µä¸‹ï¼Œå…ˆè®¾ç½®rootå¯†ç </p><p><code>$ sudo passwd root</code></p><p>æ ¹æ®æç¤ºè¾“å…¥å½“å‰å¯†ç ã€rootçš„å¯†ç ï¼Œç¡®è®¤root å¯†ç å³å¯ã€‚ æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥æ‰§è¡Œ <code>$ su root</code> ä¸´æ—¶çš„ä½¿ç”¨rootè´¦æˆ·ã€‚åœ¨ä½¿ç”¨rootè´¦æˆ·çš„å‰æä¸‹ç»§ç»­æ“ä½œ</p><p>2.2 <strong>ä¸‹é¢ä¿®æ”¹ä¸€äº›æ–‡ä»¶é…ç½®ï¼Œå®ç°åœ¨å¼€æœºåå¯ä»¥ç›´æ¥ä½¿ç”¨rootç™»å½•</strong></p><p><em>æœ€å¥½åœ¨ä¿®æ”¹å‰ä½¿ç”¨ cpå‘½ä»¤ å¤‡ä»½æ–‡ä»¶</em>  </p><ol><li><p><code># vim /root/.profile</code></p><p>æ‰¾åˆ°æœ€åä¸€è¡Œï¼š<code>mesg n || true</code>ï¼Œå…ˆæ³¨é‡Šæ‰ï¼Œå¢åŠ <code>tty -s &amp;&amp; mesg n || true</code>è¿™è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210625214625.png" alt="image"></p></li><li><p><code># cd /etc/pam.d/</code></p><p>éœ€è¦åšä¿®æ”¹çš„æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼šgdm-autologinå’Œgdm-password, æ³¨é‡Šæ‰çº¢æ¡†ä¸­çš„å†…å®¹ã€‚<br><code>vim gdm-autologin</code><br><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210625214539.png" alt="image"><br><code>vim gdm-password</code><br><img src="https://cdn.jsdelivr.net/gh/lwzcode/pictures/img/20210625214543.png" alt="image"></p><p>å…³æœºé‡å¯è™šæ‹Ÿæœºï¼Œåœ¨é€‰æ‹©ç”¨æˆ·æ—¶ç‚¹å‡» <code>Notlisted</code>Â ä½¿ç”¨rootå’Œ2.1æ­¥éª¤ä¸­è®¾ç½®çš„å¯†ç ç™»å½•</p></li></ol><blockquote><p>æœ¬éƒ¨åˆ†å‚è€ƒæ–‡ç«  <a href="https://ywnz.com/linuxjc/4960.html">è®©ubuntuç³»ç»Ÿæ”¯æŒrootç™»å½•çš„æ–¹æ³•</a></p></blockquote><h2 id="3-å®‰è£…nodejs"><a href="#3-å®‰è£…nodejs" class="headerlink" title="3. å®‰è£…nodejs"></a>3. å®‰è£…nodejs</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">wget https://nodejs.org/dist/v10.9.0/node-v10.9.0-linux-x64.tar.xz  // ä¸‹è½½ é“¾æ¥å¯ä»¥åœ¨nodejs.orgå®˜ç½‘ä¸­å³é”®å¤åˆ¶é“¾æ¥åœ°å€</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">tar xf  node-v10.9.0-linux-x64.tar.xz       // è§£å‹</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">cd</span> node-v10.9.0-linux-x64/                  // è¿›å…¥è§£å‹ç›®å½•</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">./bin/node -v                               // æ‰§è¡Œnodeå‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">v10.9.0  // æˆåŠŸ</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç¯å¢ƒå˜é‡</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">// æœ€åä¸€è¡Œæ·»åŠ  export PATH=$PATH:/software/nodejs/bin  //$PATH: åå¡«è§£å‹çš„è·¯å¾„</span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile  //é‡åˆ°é—®é¢˜æ˜¯ ï¼š æœ‰æ—¶å€™æ¯æ¬¡å¼€ç»ˆç«¯éƒ½è¦é‡æ–°è¿è¡Œ æ­¤è¡Œå‘½ä»¤</span></span><br></pre></td></tr></table></figure><p>npm å¯ä»¥è®¾ç½®æ·˜å®ä»“åº“<code>npm config set registry https://registry.npm.taobao.org</code></p><p>å®‰è£… pm2 ç”¨æ¥åç»­ç®¡ç†æœåŠ¡å™¨  <code>npmÂ installÂ pm2@latestÂ -g</code>ã€‚pm2çš„ä½¿ç”¨æŸ¥é˜…<a href="https://pm2.keymetrics.io/docs/usage/quick-start/">å®˜æ–¹æ–‡æ¡£</a></p><h2 id="4-å®‰è£…MariaDB"><a href="#4-å®‰è£…MariaDB" class="headerlink" title="4. å®‰è£…MariaDB"></a>4. å®‰è£…MariaDB</h2><p><code>yum install mariadb mariadb-server</code>Â å®‰è£…<br><code>systemctl start mariadb</code>   #å¯åŠ¨mariadb<br><code>systemctl enable mariadb</code>  #è®¾ç½®å¼€æœºè‡ªå¯åŠ¨<br><code>mysql_secure_installation</code> #è®¾ç½®rootå¯†ç ç­‰ç›¸å…³</p><p><code>mysql_secure_installation</code> åˆå§‹åŒ–</p><p>æ¥ç€ä¼šæœ‰è‹¥å¹²é—®é¢˜ é€‰æ‹© <code>y</code> or  <code>n</code></p><blockquote><p>é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå¿…é¡»ä½¿ç”¨ä½¿ç”¨<code>sudo mysql -uroot -p</code>æ‰èƒ½è¿æ¥ï¼Œè€Œ<code>mysql -h127.0.0.1 -P3306 -uroot -p</code>è¿æ¥ä¸ä¸Šæ•°æ®åº“</p><p>è§£å†³ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;&lt;PASSWORD&gt;&#x27;</span>;  #<span class="operator">&lt;</span>PASSWORD<span class="operator">&gt;</span>æ›¿æ¢ä¸ºè‡ªå·±æƒ³è¦çš„å¯†ç </span><br><span class="line">FLUSH <span class="keyword">ALL</span> PRIVILEGES;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql restart // é‡å¯mariadb</span><br></pre></td></tr></table></figure></blockquote><h2 id="5-å®‰è£…-Git"><a href="#5-å®‰è£…-Git" class="headerlink" title="5. å®‰è£… Git"></a>5. å®‰è£… Git</h2><p>å‚è€ƒ git <a href="https://git-scm.com/download/linux">å®˜æ–¹</a><br>æˆªè‡³ï¼ˆ2022-09-24ï¼‰centos 7 æ‰§è¡Œ <code>yum install git </code> å®‰è£…çš„æ˜¯<code>1.8.3.1</code>ç‰ˆæœ¬ï¼Œè‹¥è¦å®‰è£…æœ€æ–°çš„éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y remove git <span class="comment">#å¸è½½æ—§çš„</span></span><br><span class="line">sudo yum -y remove git-* <span class="comment">#å¸è½½æ—§çš„</span></span><br><span class="line">sudo yum -y install https://packages.endpointdev.com/rhel/7/os/x86_64/endpoint-repo.x86_64.rpm</span><br><span class="line">sudo yum install git</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š <a href="https://computingforgeeks.com/install-git-2-on-centos-7/">Install Latest Git ( Git 2.x ) on CentOS 7</a></p><h2 id="6-DNSè®¾ç½®"><a href="#6-DNSè®¾ç½®" class="headerlink" title="6. DNSè®¾ç½®"></a>6. DNSè®¾ç½®</h2><p>   åˆšè£…å®Œcentos yumå®‰è£…æŠ¥<span style="color:red;"> Cannot find a valid baseurl for repo: base/7/x86_64 </span> é”™è¯¯,éœ€ä¿®æ”¹DNS</p><h3 id="6-1-æ˜¾ç¤ºå½“å‰ç½‘ç»œè¿æ¥"><a href="#6-1-æ˜¾ç¤ºå½“å‰ç½‘ç»œè¿æ¥" class="headerlink" title="6.1 æ˜¾ç¤ºå½“å‰ç½‘ç»œè¿æ¥"></a>6.1 æ˜¾ç¤ºå½“å‰ç½‘ç»œè¿æ¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection show</span><br><span class="line">NAME   UUID                                  TYPE      DEVICE</span><br><span class="line">ens33  184cbb4a-a80c-4e56-bdc3-e28666e474cf  ethernet  ens33</span><br></pre></td></tr></table></figure><h3 id="6-2-ä¿®æ”¹å½“å‰ç½‘ç»œè¿æ¥å¯¹åº”çš„DNSæœåŠ¡"><a href="#6-2-ä¿®æ”¹å½“å‰ç½‘ç»œè¿æ¥å¯¹åº”çš„DNSæœåŠ¡" class="headerlink" title="6.2 ä¿®æ”¹å½“å‰ç½‘ç»œè¿æ¥å¯¹åº”çš„DNSæœåŠ¡"></a>6.2 ä¿®æ”¹å½“å‰ç½‘ç»œè¿æ¥å¯¹åº”çš„DNSæœåŠ¡</h3><p>è¿™é‡Œçš„ç½‘ç»œè¿æ¥å¯ä»¥ç”¨åç§°æˆ–è€…UUIDæ¥æ ‡è¯†ï¼Œ<code>223.5.5.5</code>(é˜¿é‡Œäº‘DNS)ï¼Œ<code>8.8.8.8</code> (è°·æ­ŒDNS)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmcli  connection modify <span class="string">&quot;ens33&quot;</span> ipv4.dns <span class="string">&quot;223.5.5.5 8.8.8.8&quot;</span></span><br></pre></td></tr></table></figure><h3 id="6-3-å°†dnsé…ç½®ç”Ÿæ•ˆ"><a href="#6-3-å°†dnsé…ç½®ç”Ÿæ•ˆ" class="headerlink" title="6.3 å°†dnsé…ç½®ç”Ÿæ•ˆ"></a>6.3 å°†dnsé…ç½®ç”Ÿæ•ˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection up <span class="string">&quot;ens33&quot;</span></span><br></pre></td></tr></table></figure><h3 id="6-4-ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰§è¡Œç”Ÿæ•ˆ"><a href="#6-4-ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰§è¡Œç”Ÿæ•ˆ" class="headerlink" title="6.4 ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰§è¡Œç”Ÿæ•ˆ"></a>6.4 ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰§è¡Œç”Ÿæ•ˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart network  <span class="comment"># è¦†ç›–/etc/resolv.conf</span></span><br><span class="line">nmcli connection reload </span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodejsç¬”è®°</title>
      <link href="/2020/06/30/nodejs%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/06/30/nodejs%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>js:1995 Netscape ,è¿è¡Œåœ¨å®¢æˆ·ç«¯</p><p>nodejs:2009 Ryan dahl , V8å¼•æ“ï¼Œè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å¼€å‘ç¯å¢ƒ </p><h1 id="1-Node-js-å†…ç½®å…¨å±€å¯¹è±¡"><a href="#1-Node-js-å†…ç½®å…¨å±€å¯¹è±¡" class="headerlink" title="1. Node.js å†…ç½®å…¨å±€å¯¹è±¡"></a>1. Node.js å†…ç½®å…¨å±€å¯¹è±¡</h1><p>1.1 global å¯¹è±¡</p><ul><li>å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªå˜é‡æˆ–è€…æ–¹æ³•æ˜¯å¦æ˜¯å…¨å±€çš„ global.a (äº¤äº’æ¨¡å¼ä¸‹ )</li><li>åœ¨node.jsä¸‹ï¼Œè„šæœ¬æ–‡ä»¶ä¸æ˜¯å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œé˜²æ­¢äº†å…¨å±€æ±¡æŸ“</li><li>JSçš„å…¨å±€å«window,åœ¨JSä¸‹ è„šæœ¬æ–‡ä»¶æ˜¯å…¨å±€ï¼Œå­˜åœ¨å…¨å±€æ±¡æŸ“</li></ul><p>1.2 consoleå¯¹è±¡</p><ul><li><code>console.log()</code>       æ‰“å°æ—¥å¿—</li><li>console.info()      æ‰“å°æ¶ˆæ¯</li><li>console.warn()     æ‰“å°è­¦å‘Š</li><li>console.error()      æ‰“å°é”™è¯¯</li><li>console.time(â€˜labelâ€™);console.timeEnd(â€˜labelâ€™);</li></ul><p>1.3 processå¯¹è±¡</p><ul><li>porcess.arch æŸ¥çœ‹CPUæ¶æ„</li><li>process.platform      æŸ¥çœ‹æ“ä½œç³»ç»Ÿ</li><li>process.version      æŸ¥çœ‹node.jsç‰ˆæœ¬</li><li>process.pid      æŸ¥çœ‹è¿›ç¨‹pid</li><li>process.kill(pid)     æ€æ‰è¿›ç¨‹</li></ul><p>1.4 Buffer</p><p>ä¸´æ—¶åœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®</p><ul><li><code>Buffer.alloc(5,&#39;abcde&#39;);</code>  // å°†æ•°æ®ä¿å­˜åˆ°ç¼“å†²åŒº</li><li><code>Buffer.toString()</code>     //è¯»å–ç¼“å†²åŒºè½¬ä¸ºå­—ç¬¦ä¸²</li></ul><h1 id="2-å…¨å±€å‡½æ•°"><a href="#2-å…¨å±€å‡½æ•°" class="headerlink" title="2. å…¨å±€å‡½æ•°"></a>2. å…¨å±€å‡½æ•°</h1><p>2.1 ä¸€æ¬¡æ€§å®šæ—¶å™¨</p><ul><li><code>let     timer=setTimeout(callback,time);</code> å¼€å¯å®šæ—¶å™¨</li><li><code>clearTimeout(timer);</code>      æ¸…é™¤å®šæ—¶å™¨</li></ul><p>2.2 å‘¨æœŸæ€§å®šæ—¶å™¨</p><ul><li><code>let timer=setInterval(callback,time);</code>     å¼€å¯å®šæ—¶å™¨</li><li><code>clearInterval(timer);</code>      æ¸…é™¤å®šæ—¶å™¨</li></ul><h1 id="3-æ¨¡å—"><a href="#3-æ¨¡å—" class="headerlink" title="3. æ¨¡å—"></a>3. æ¨¡å—</h1><p>æ¯ä¸€ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ä½“</p><p>æ¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—</p><p>3.1 æ¨¡å—åˆ†ç±»</p><ol><li>è‡ªå®šä¹‰æ¨¡å—</li><li>æ ¸å¿ƒæ¨¡å—</li><li>ç¬¬ä¸‰æ–¹æ¨¡å—</li></ol><table><thead><tr><th></th><th>ä»¥è·¯å¾„å¼€å¤´</th><th>ä¸ä»¥è·¯å¾„å¼€å¤´</th></tr></thead><tbody><tr><td>æ–‡ä»¶å½¢å¼</td><td>require(â€˜./circle.jsâ€™)</td><td></td></tr><tr><td>ç›®å½•å½¢å¼</td><td>require(â€˜./02_ranâ€™)  é¦–å…ˆå¯»æ‰¾02_ranç›®å½•ä¸‹çš„package.jsä¸­â€mainâ€å±æ€§å¯¹åº”çš„æ–‡ä»¶  å¦‚æœæ‰¾ä¸åˆ°é»˜è®¤ä¸ºindex.js</td><td>require(â€˜ranâ€™)  é»˜è®¤ä»ä¸‹è‡³ä¸Šå¯»æ‰¾node_modulesæ–‡ä»¶å¤¹&gt;ranæ–‡ä»¶å¤¹  package.json&gt;mainå±æ€§</td></tr></tbody></table><p>ç”¨æ³•ï¼š</p><p>å¼•å…¥ï¼šlet obj=require(â€˜æ–‡ä»¶è·¯å¾„â€™);</p><p>å¯¼å‡ºï¼šmodule.exports={ }; </p><p>console.log(__dirname); //è·å–å½“å‰æ¨¡å—çš„ç»å¯¹è·¯å¾„<br> console.log(__filename);//ç»å¯¹è·¯å¾„+æ¨¡å—åç§°</p><p>3.2 åŒ…å’Œnpm</p><p>npm: node package manager,ç”¨äºç®¡ç†åŒ…çš„å·¥å…·æ¨¡å—ï¼ŒåŒ…æ‹¬åŒ…çš„ä¸‹è½½ï¼Œå‡çº§ï¼Œå¸è½½ï¼Œä¸Šä¼ </p><ul><li><code>npm init     -y</code> //åˆå§‹åŒ–é¡¹ç›®</li><li><code>npm install åŒ…çš„åç§°</code>  //å®‰è£…åŒ…</li><li><code>npm     install</code>  //æ ¹æ®package.jsoné…ç½®å®‰è£…åŒ…</li><li><code>npm config     get registry</code> //è·å–å½“å‰ä»“åº“è·¯å¾„</li><li><code>npm config     set registry https://registry.npm.taobao.org</code> //è®¾ç½®ä»“åº“è·¯å¾„åˆ°æ·˜å®é•œåƒ</li></ul><p>npx:é€‰æ‹©ä½¿ç”¨ä¸åŒçš„nodejsç‰ˆæœ¬è¿è¡Œæ–‡ä»¶</p><ul><li>npx -p node@ç‰ˆæœ¬å· node æ–‡ä»¶å</li></ul><p>3.3 querystringæ¨¡å—ï¼ˆæŸ¥è¯¢å­—ç¬¦ä¸²ï¼‰</p><ul><li>querystring.parse();</li></ul><p>3.4 URLæ¨¡å—</p><p>ç»Ÿä¸€èµ„æºå®šä½</p><p><a href="http://www.codeboy.com:9999/product_details.html?lid=1">http://www.codeboy.com:9999/product_details.html?lid=1</a></p><p>åè®®    åŸŸå/ip        ç«¯å£   æ–‡ä»¶è·¯å¾„          æŸ¥è¯¢å­—ç¬¦ä¸²</p><p>URLæ¨¡å—â€”â€”ç”¨äºæ“ä½œURLçš„æ¨¡å—</p><ul><li>const url=require(â€˜urlâ€™);</li><li>url.parse(str);</li><li>æ–¹å¼ä¸€ï¼š<pre><code> æ²¡æœ‰æ–œæ ï¼Œè·³è½¬åˆ°å’Œè‡ªå·±åŒç›®å½•ä¸‹çš„é¡µé¢</code></pre></li><li>æ–¹å¼äºŒï¼š<pre><code> å•æ–œæ åŠ å‰æœ‰ä¸€ç‚¹ï¼Œè·³è½¬åˆ°å’Œè‡ªå·±åŒç›®å½•ä¸‹çš„layouté¡µé¢    æ€»ç»“ï¼šæ–¹å¼ä¸€å’Œæ–¹å¼äºŒæ•ˆæœæ˜¯ç›¸åŒçš„ã€‚</code></pre></li><li>æ–¹å¼ä¸‰ï¼š<pre><code> å•æ–œæ ï¼Œè·³è½¬åˆ°æ•´ä¸ªç½‘ç«™æ ¹ç›®å½•ä¸‹çš„</code></pre></li><li>æ–¹å¼å››ï¼š ä¸¤ç‚¹åŠ å•æ–œæ ï¼Œè·³è½¬åˆ°ä¸Šä¸€çº§ç›®å½•</li><li>æ–¹å¼äº”ï¼š å¤šä¸ªä¸¤ç‚¹åŠ å•æ–œæ è¿ç»­ç”¨ï¼Œæ¯ä¸€æ¬¡â€œ../â€å¾€ä¸Šè·³è½¬ä¸€çº§,æœ‰å‡ ä¸ªâ€œ ../â€ï¼Œå°±å‘ä¸Šè·³å‡ çº§ï¼ˆps:æˆ‘ä»¥å‰é”™ä»¥ä¸ºåªèƒ½å†™ä¸€ä¸ªâ€œ../â€ï¼‰</li><li>æ–¹å¼å…­ï¼šå…¨è·¯å¾„æ–¹æ³•</li></ul><p>3.5 timeræ¨¡å—</p><ul><li>setImmediate(callback)       //å®‰æ’åœ¨ I/O äº‹ä»¶çš„å›è°ƒä¹‹åç«‹å³æ‰§è¡Œçš„ callbackã€‚process.nextTick(callback)ä¼šæ¯”setImmediate(callback)é˜Ÿåˆ—æ›´é å‰æ‰§è¡Œ</li></ul><p>3.6 fsæ¨¡å—</p><p>æ–‡ä»¶ç³»ç»ŸåŒ…æ‹¬ç›®å½•å½¢å¼å’Œæ–‡ä»¶å½¢å¼ã€‚</p><p>åŒæ­¥æ“ä½œ</p><ul><li>fs.mkdirSync(â€˜./æ–°å»ºæ–‡ä»¶å¤¹â€™) //åˆ›å»ºç›®å½•</li><li>fs.rmdirSync(â€˜./æ–°å»ºæ–‡ä»¶å¤¹â€™) //ç§»é™¤ç©ºæ–‡ä»¶å¤¹</li><li>fs.statSync(â€˜æ–‡ä»¶åâ€™); // æŸ¥çœ‹çŠ¶æ€</li><li>fs.writeFileSync(â€¦)</li><li>fs.appendFileSync(â€¦)</li><li>fs.readFileSync(â€¦)</li><li>fs.unlinkSync(â€¦) //åˆ é™¤</li><li>fs.existsSync(â€¦);     //æ£€æµ‹æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</li><li>fs.copyFileSync(path,goalpath);     //æ‹·è´</li></ul><p>å¼‚æ­¥æ“ä½œ</p><ul><li>fs.mkdir(â€¦)</li><li>fs.rmdir(â€¦)</li><li>fs.stat(path,callback);      // callback(error,success);.<ul><li>success.isFile()      //æ˜¯æ–‡ä»¶</li><li>success.isDirectory();       //æ˜¯ç›®å½•</li></ul></li><li>fs.writeFile(â€¦);</li><li>fs.appendFile(â€¦)</li><li>fs.readFile(â€¦)</li><li>fs.unlink();</li></ul><p>å¤§æ–‡ä»¶çš„å¤åˆ¶</p><p><code>fs.createReadStream(&#39;path&#39;).pipe(fs.createWriteStream(&#39;path&#39;));</code></p><ol start="4"><li>åŒæ­¥å’Œå¼‚æ­¥ï¼ˆday03ï¼‰</li></ol><p>åŒæ­¥ï¼šé˜»å¡åç»­ä»£ç æ‰§è¡Œï¼Œé€šè¿‡è¿”å›å€¼è·å¾—ç»“æœ</p><p>å¼‚æ­¥ï¼šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æ‰§è¡Œï¼Œä¸ä¼šé˜»å¡åç»­ä»£ç æ‰§è¡Œï¼Œé€šè¿‡å›è°ƒå‡½æ•°è·å¾—ç»“æœ</p><h1 id="5-httpåè®®"><a href="#5-httpåè®®" class="headerlink" title="5. httpåè®®"></a>5. httpåè®®</h1><p>æ˜¯æµè§ˆå™¨å’ŒwebæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åè®®</p><p>5.1 general é€šç”¨å¤´ä¿¡æ¯</p><ul><li><p>Request url: è¦è¯·æ±‚çš„èµ„æº</p></li><li><p>request     method: è¯·æ±‚çš„æ–¹æ³•, post/get/delete/</p></li><li><p>status: çŠ¶æ€ç  </p><ul><li>5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰</li><li>4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰</li><li>3xx ï¼ˆé‡å®šå‘ï¼‰</li><li>2xx ï¼ˆæˆåŠŸï¼‰</li><li>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰<pre><code>  è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ä»£ç ã€‚</code></pre></li></ul></li></ul><p>5.2 request headers</p><p>5.3 response headers</p><ul><li>Location:     <a href="http://www.baidu.com/">http://www.baidu.com/</a>  //é‡å®šå‘åœ°å€</li><li>Content-Type:å“åº”çš„å†…å®¹ç±»å‹</li></ul><p>5.4 è¯·æ±‚ä¸»ä½“</p><p>åªæœ‰ä¼ é€’æ•°æ®æ—¶æ‰ä¼šæœ‰</p><h1 id="6-Httpæ¨¡å—"><a href="#6-Httpæ¨¡å—" class="headerlink" title="6. Httpæ¨¡å—"></a>6. Httpæ¨¡å—</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app=http.<span class="title function_">createServer</span>(); <span class="comment">//åˆ›å»ºæœåŠ¡å™¨ </span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>);<span class="comment">//ç›‘å¬æ¥å£  é€šè¿‡äº‹ä»¶æ¥å—è¯·æ±‚ </span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;   <span class="comment">//req è¯·æ±‚å¯¹è±¡    //res å“åº”å¯¹è±¡    </span></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>,&#123;     &#125;)   </span><br><span class="line">    res.<span class="title function_">write</span>(<span class="string">&#x27;æœ‰ä¸€ä¸ªç¾ä¸½çš„å°å¥³å­©&#x27;</span>);  <span class="comment">//è®¾ç½®å“åº”å†…å®¹   res.end(); //ç»“æŸå¹¶å‘é€è¯·æ±‚  </span></span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure><h1 id="7-Express-æ¡†æ¶-day04"><a href="#7-Express-æ¡†æ¶-day04" class="headerlink" title="7. Express æ¡†æ¶(day04)"></a>7. Express æ¡†æ¶(day04)</h1><p>åŸºäºnode.jså¹³å° å¿«é€Ÿ å¼€æ”¾ æç®€çš„WEBå¼€å‘æ¡†æ¶</p><p>ä¸‹è½½å®‰è£… npm install express</p><p><a href="http://www.expressjs.com.cn/">www.expressjs.com.cn</a></p><h2 id="7-1-è·¯ç”±"><a href="#7-1-è·¯ç”±" class="headerlink" title="7.1 è·¯ç”±"></a>7.1 è·¯ç”±</h2><table><thead><tr><th>const express=require(â€˜expressâ€™);  //expressåˆå§‹åŒ–  const app=express();  app.listen(80);</th><th></th><th></th><th></th></tr></thead><tbody><tr><td>//è·¯ç”±  app.get(â€˜/loginâ€™,(req,res)=&gt;{   res.send(â€˜<h2>è¿™æ˜¯ç™»é™†çš„ç½‘é¡µ</h2>â€˜)  });</td><td>app.get(â€˜/studyâ€™,(req,res)=&gt;{   res.redirect(â€˜<a href="https://www.baidu.com&/#39;">https://www.baidu.com&#39;</a>);  });</td><td>app.get(â€˜/â€˜,(req,res)=&gt;{   res.sendFile(__dirname+â€™/index.htmlâ€™);  });</td><td>app.get(â€˜/indexâ€™,(req,res)=&gt;{   res.redirect(â€˜/â€˜);  });</td></tr></tbody></table><table><thead><tr><th>ä¼ é€’çš„æ–¹å¼</th><th>æ ¼å¼</th><th>è·¯ç”±æ¥æ”¶çš„æ–¹å¼</th></tr></thead><tbody><tr><td>æŸ¥è¯¢å­—ç¬¦ä¸²</td><td><a href="http://127.0.0.1:8080/mysearch?keyword=%E6%89%8B%E6%9C%BA">http://127.0.0.1:8080/mysearch?keyword=æ‰‹æœº</a></td><td>req.queryæ ¼å¼ä¸ºå¯¹è±¡</td></tr><tr><td>æµçš„æ–¹å¼</td><td>ä¸å¯è§</td><td>é€šè¿‡äº‹ä»¶  req.on(â€˜dataâ€™, (chunk)=&gt;{   chunkæ¥æ”¶çš„åˆ†æ®µæ•°æ®ï¼Œæ ¼å¼ä¸ºbufferï¼Œè½¬å­—ç¬¦ä¸²ä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œéœ€è¦ä½¿ç”¨æŸ¥è¯¢å­—ç¬¦ä¸²æ¨¡å—è§£æä¸ºå¯¹è±¡  })</td></tr><tr><td>è·¯ç”±ä¼ å‚</td><td><a href="http://127.0.0.1:8080/package/ran">http://127.0.0.1:8080/package/ran</a></td><td>app.get(â€˜/package/:pnameâ€™,(req,res)=&gt;{   //pname å½¢å‚  req.params æ¥æ”¶æ•°æ®ï¼Œæ ¼å¼ä¸ºå¯¹è±¡  })</td></tr></tbody></table><h2 id="7-2-è·¯ç”±å™¨ï¼ˆday05ï¼‰"><a href="#7-2-è·¯ç”±å™¨ï¼ˆday05ï¼‰" class="headerlink" title="7.2 è·¯ç”±å™¨ï¼ˆday05ï¼‰"></a>7.2 è·¯ç”±å™¨ï¼ˆday05ï¼‰</h2><ul><li><code>?</code>ï¼šé—®å·ä¹‹å‰çš„ä¸€ä¸ªå­—ç¬¦åªèƒ½å‡ºç°é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œè·¯ç”±è·¯å¾„ <code>&#39;/ab?cd&#39;</code> è·¯å¾„åŒ¹é…ç«¯ç‚¹ <code>acd</code> æˆ– <code>abcd</code>ã€‚</li><li><code>+</code>ï¼šåŠ å·ä¹‹å‰çš„ä¸€ä¸ªå­—ç¬¦è‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œè·¯å¾„è·¯å¾„ <code>&#39;/ab+cd&#39;</code> åŒ¹é…ç«¯ç‚¹ <code>abcd</code>ã€<code>abbcd</code>ã€<code>abbbcd</code>ï¼Œç­‰ã€‚</li><li><code>*</code>ï¼šæ˜Ÿå·å¯ä»¥æ›¿æ¢ä¸ºä»»æ„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œè·¯ç”±è·¯å¾„ <code>&#39;ab\*cd&#39;</code> åŒ¹é…ç«¯ç‚¹ <code>abcd</code>ã€<code>abXcd</code>ã€<code>abSOMErandomTEXTcd</code>ï¼Œç­‰ã€‚</li><li><code>()</code>ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è§†ä¸ºä¸€ä½“ä»¥æ‰§è¡Œ <code>?</code>ã€<code>+</code>ã€<code>*</code> æ“ä½œã€‚ä¾‹å¦‚ã€‚ <code>&#39;/ab(cd)?e&#39;</code> å°†å¯¹ <code>(cd)</code> è¿›è¡ŒåŒ¹é…ï¼Œå°†åŒ¹é…åˆ° <code>abe</code> å’Œ <code>abcde</code>ã€‚</li></ul><table><thead><tr><th>æ¨¡å—</th><th>å¼•ç”¨æ¨¡å—</th></tr></thead><tbody><tr><td>module.exports= r;//å¯¼å‡ºè·¯ç”±å™¨å¯¹è±¡</td><td>app.use(â€˜/userâ€™,userRouter);<br />//å°†ç”¨æˆ·çš„è·¯ç”±å™¨æŒ‚è½½åˆ°webæœåŠ¡å™¨ä¸‹ï¼Œå¹¶æ·»åŠ å‰ç¼€â€™/user</td></tr><tr><td>//åˆ›å»ºè·¯ç”±å™¨å¯¹è±¡  const r=express.Router();  //æ·»åŠ è·¯ç”± <br />r.get(â€˜/listâ€™,(req,res)=&gt;{   res.send(â€˜<h1>è¿™æ˜¯ç”¨æˆ·åˆ—è¡¨</h1>â€˜)  });</td><td>const userRouter=require(â€˜./user.jsâ€™);</td></tr></tbody></table><h2 id="7-3-ä¸­é—´ä»¶"><a href="#7-3-ä¸­é—´ä»¶" class="headerlink" title="7.3 ä¸­é—´ä»¶"></a>7.3 ä¸­é—´ä»¶</h2><p>ç”¨äºæ‹¦æˆªå¯¹webæœåŠ¡å™¨ä¸­è·¯ç”±çš„è¯·æ±‚ï¼Œå¯ä»¥åšå‡ºå“åº”</p><p>åˆ†ä¸ºè‡ªå®šä¹‰ä¸­é—´ä»¶ï¼Œè·¯ç”±çº§ä¸­é—´ä»¶ï¼Œå†…ç½®ä¸­é—´ä»¶ï¼Œç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œé”™è¯¯å¤„ç†ä¸­é—´ä»¶</p><ul><li><p>è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼ˆåº”ç”¨çº§ä¸­é—´ä»¶ï¼‰</p><pre><code> æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•° app.use(url,callback);  callback(req,res,next);</code></pre></li><li><p>è·¯ç”±çº§ä¸­é—´ä»¶</p></li><li><p>å†…ç½®ä¸­é—´ä»¶</p><pre><code> é™æ€èµ„æº: htmlã€cssã€jsã€å›¾ç‰‡ã€è§†é¢‘Â·Â·Â·Â·Â· æ‰˜ç®¡é™æ€èµ„æº: æµè§ˆå™¨ç«¯è¦è¯·æ±‚é™æ€èµ„æºï¼ŒæœåŠ¡å™¨ç«¯ä¸éœ€è¦åˆ›å»ºè·¯ç”±ï¼Œè€Œæ˜¯è®©æµè§ˆå™¨è‡ªåŠ¨çš„åˆ°æŒ‡å®šä½ç½®å¯»æ‰¾ è‹¥åŒçº§æ‰˜ç®¡ç›®å½•ä¸‹æœ‰ç›¸åŒèµ„æºï¼Œä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªååœæ­¢ app.use(express.static(&#39;./public&#39;));</code></pre></li><li><p>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</p><p> â€‹    body-parser</p></li></ul><h2 id="7-4-Express-generator"><a href="#7-4-Express-generator" class="headerlink" title="7.4 Express-generator"></a>7.4 Express-generator</h2><p> å®‰è£…  <code>express-generator</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-generator -g</span><br></pre></td></tr></table></figure><p><a href="https://expressjs.com/zh-cn/starter/generator.html">express-generator</a></p><h1 id="8-æ­£åˆ™è¡¨è¾¾å¼-day05"><a href="#8-æ­£åˆ™è¡¨è¾¾å¼-day05" class="headerlink" title="8. æ­£åˆ™è¡¨è¾¾å¼(day05)"></a>8. æ­£åˆ™è¡¨è¾¾å¼(day05)</h1><p>æ­£åˆ™è¡¨è¾¾å¼å®Œæ•´è§†é¢‘ <a href="https://pan.baidu.com/s/1IgYS8oGBrRgZQropPUTnoA">https://pan.baidu.com/s/1IgYS8oGBrRgZQropPUTnoA</a> ;æå–ç ï¼šnbx3 </p><p>å­—ç¬¦ä¸²æ­£åˆ™ç›¸å…³å‡½æ•°çš„ç”¨æ³•æ€»ç»“ <a href="https://pan.baidu.com/s/1Rvqr-5UI7NxoxArdgxyRhg">https://pan.baidu.com/s/1Rvqr-5UI7NxoxArdgxyRhg</a> ;æå–ç ï¼š08yj</p><ul><li>[\u4e00-\u9fa5] ä¸­æ–‡å­—ç¬¦é›†</li><li>* å¯æœ‰å¯æ—  å¤šäº†ä¸é™</li><li>ï¼Ÿå¯æœ‰å¯æ—  æœ€å¤šä¸€æ¬¡</li><li>+ æœ€å°‘ä¸€æ¬¡ å¤šäº†ä¸é™</li></ul><p>æ”¯æŒæ­£åˆ™çš„å­—ç¬¦ä¸²æ–¹æ³•ï¼š</p><ol><li><p><code>let     i=str.search(/æ­£åˆ™/i);</code></p><ul><li><p>ä»å¤´å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ­£åˆ™çš„ä½ç½®</p></li><li><p>è¿”å›å€¼ï¼šæ²¡æ‰¾åˆ°ï¼š-1      ï¼Œæ‰¾åˆ°äº†è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡</p></li></ul></li><li><p><code>let     arr=str.match(/æ­£åˆ™/);</code></p><ul><li><p>ç”¨æ­£åˆ™å»åŒ¹é…strä¸­ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²</p></li><li><p>å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›å…³è”æ•°ç»„,æ•°ç»„ä¸­åŒ…å«åŒ¹é…æ­£åˆ™çš„å­—ç¬¦ä¸²å’Œè¯¥å­—ç¬¦ä¸²çš„ä¸‹æ ‡ [â€œ0â€ï¼Œâ€å­—ç¬¦ä¸²å†…å®¹â€,â€indexâ€ï¼Œç´¢å¼•]ï¼›</p></li><li><p>å¦‚æœæ‰¾ä¸åˆ°è¿”å›null</p></li><li><p>æ‹“å±•çŸ¥è¯†ï¼šjsåªæœ‰ä¸€ç§æ•°ç»„ï¼šå…³è”æ•°ç»„</p></li><li><p>é»˜è®¤åªæ‰¾ç¬¬ä¸€ä¸ªï¼Œè§£å†³æ–¹æ³• /æ­£åˆ™/g ï¼Œä¸€ä½†åŠ  g å°±ä¸èƒ½è·å¾—ç´¢å¼•ä½ç½®ï¼Œåªèƒ½è·å¾—å­—ç¬¦ä¸²</p></li><li><p>æ—¢æŸ¥æ‰¾å…³é”®è¯å†…å®¹ï¼ŒåˆæŸ¥æ‰¾å…³é”®è¯ä½ç½®ï¼Œç”¨reg.exec()å®ç°</p></li></ul></li><li><p><code>str.replcae()</code></p><ul><li><p>ç®€å•æ›¿æ¢</p><pre><code>`str=str.replace(/æ­£åˆ™/gï¼Œ&quot;æ–°å€¼&quot;);`/g å…¨éƒ¨æ›¿æ¢</code></pre></li><li><p>é«˜çº§æ›¿æ¢</p><pre><code>  str=str.replace(/æ­£åˆ™/g,function(keywords)&#123;    return æ ¹æ®keywordsä¸åŒï¼Œè¿”å›ä¸åŒçš„å€¼  &#125;);  ä¾‹ï¼š å»é™¤å­—ç¬¦ä¸²ä¸­çš„å‰åç©ºæ ¼</code></pre><p>   <code>str=&#39;        you can  &#39;.replace(/^\s*|\s*$/g,&quot;&quot;);        //&#39;you can&#39;</code></p><pre><code>  ä¾‹ï¼š å°†å­—ç¬¦ä¸²ä¸­çš„å•è¯é¦–å­—æ¯å¤§å†™</code></pre><p>   <code>str=&#39;you can you up&#39;.replace(/\b\w/ig,(k)=&gt;k.toUpperCase());        // &#39;You Can You Up&#39;</code></p></li></ul></li><li><p><code>str=str.splite(/æ­£åˆ™/);</code></p><ul><li><p>å¼ºè°ƒï¼š ä¸ç”¨åŠ g</p></li><li><p>ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str= <span class="string">&#x27;        &lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;      &lt;li&gt;5&lt;/li&gt; &#x27;</span>;</span><br><span class="line">    str=str.<span class="title function_">replace</span>(<span class="regexp">/^(\s*&lt;li&gt;)|(&lt;\/li&gt;\s*)$/ig</span>,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> arr=str.<span class="title function_">split</span>(<span class="regexp">/&lt;\/li&gt;\s*&lt;li&gt;/</span>);</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="9-MySQL-æ¨¡å—-ï¼ˆday06ï¼‰"><a href="#9-MySQL-æ¨¡å—-ï¼ˆday06ï¼‰" class="headerlink" title="9.MySQL æ¨¡å— ï¼ˆday06ï¼‰"></a>9.MySQL æ¨¡å— ï¼ˆday06ï¼‰</h1><table><thead><tr><th>mysql</th><th>è¿æ¥æ± </th></tr></thead><tbody><tr><td>const connnection=mysql.createConnection({   host:â€™127.0.0.1â€™,   port:â€™3306â€™,   user:â€™rootâ€™,   password:â€™liwenzheâ€™,   database:â€™teduâ€™  });  //è¿æ¥  connnection.connect();</td><td>const pool=mysql.createPool({   host:â€™127.0.0.1â€™,   port:3306,   user:â€™rootâ€™,   password:â€™liwenzheâ€™,   database:â€™teduâ€™,   connectionLimit:20  }); //åˆ›å»ºè¿æ¥æ± </td></tr><tr><td>connnection.query(â€˜DELETE FROM emp where ename=â€ææ–‡å“²â€â€˜,  //å¼‚æ­¥   (err,res)=&gt;{ //æ’å…¥ //errå¯èƒ½äº§ç”Ÿçš„é”™è¯¯  //æˆåŠŸçš„ç»“æœ   if(err) throw err;    console.log(res);  });</td><td>pool.query(â€˜SELECT * FROM empâ€™,(err,result)=&gt;{   if(err) throw err;   console.log(result);  });</td></tr></tbody></table><p>9.1 é˜²æ­¢æ³¨å…¥æ”»å‡»</p><table><thead><tr><th>ä¾‹ï¼š<code>let name=&#39;ææ–‡å“²&quot; or &quot;1&#39;;  pool.query(&#39;DELETE FROM emp where  name=&quot;&#39;+name+&#39;&quot;&#39;,callback);</code> <br />//æ³¨å…¥æ”»å‡»  // <code>DELETE FROM emp where name=&quot;ææ–‡å“²&quot; or &quot;1&quot;;</code></th></tr></thead><tbody><tr><td>// ? ä»£è¡¨å ä½ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼šè¢«è‡ªåŠ¨è¿‡æ»¤,è¿‡æ»¤å®Œæ›¿æ¢å ä½ç¬¦  // pool .query(â€˜SELECT * FROM emp WHERE ename=?â€™,[name],callback);</td></tr></tbody></table><p>9.2 ä½¿ç”¨å¯¹è±¡ä½œä¸ºå‚æ•°</p><p><code>let obj=&#123; eid:null, ename:&#39;ä¸œå­&#39;,sex:1,salary:5000,birthday:&#39;1976-5-29&#39;&#125;;</code>  //ç¼ºå°‘çš„ä¼šå¡«å……é»˜è®¤å€¼ //å±æ€§åå¿…é¡»ä¸sqlè¡¨çš„åˆ—ä¸€è‡´</p><p>//æ‰§è¡Œsqlå‘½ä»¤ç›´æ¥æ’å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pool.<span class="title function_">query</span>(<span class="string">&#x27;INSERT INTO emp SET?&#x27;</span>,[obj],<span class="function">(<span class="params">err,result</span>)=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="10-æ¥å£"><a href="#10-æ¥å£" class="headerlink" title="10. æ¥å£"></a>10. æ¥å£</h1><p>10.1 æ•°æ®æ¥å£ï¼šåç«¯ç»™å‰ç«¯æä¾›çš„èµ„æº</p><p>REST : ä¸€ç§æ¥å£é£æ ¼ï¼Œè¡Œä¸šå†…è®¤åŒçš„é£æ ¼</p><p>RESTful : æ˜¯åŸºäºRESTé£æ ¼çš„æ¥å£</p><ul><li><p>url</p><pre><code> http://127.0.0.1:8080/v1/emps                       ç‰ˆæœ¬å·  èµ„æºåç§° http://127.0.0.1:8080/v1/emps/3                                  ä¼ é€’çš„æ•°æ®ï¼ˆè·å–å•ä¸ªèµ„æºï¼‰ </code></pre><p> â€‹    <a href="http://127.0.0.1:8080/v1/users/login">http://127.0.0.1:8080/v1/users/login</a><br> â€‹                              å¯¹èµ„æºçš„æ“ä½œ</p></li><li><p>è¯·æ±‚æ–¹æ³•</p><pre><code> å¯¹èµ„æºçš„æ“ä½œ post æ–°å»ºèµ„æº(æ’å…¥æ•°æ®) delete åˆ é™¤èµ„æº put ä¿®æ”¹èµ„æº get è·å–èµ„æº</code></pre></li><li><p>è¿‡æ»¤æ•°æ®</p><pre><code> http://127.0.0.1:8080/v1/empsï¼Ÿpno=1&amp;count=10</code></pre></li><li><p>è¿”å›ç»“æœ</p><ul><li>çŠ¶æ€ç </li><li>å¯¹è±¡/æ•°ç»„(json)</li></ul></li></ul><p>å·¥å…·: ApiPost,PostMan</p><p>10.2 é”™è¯¯å¤„ç†</p><p>é”™è¯¯ä¸­é—´ä»¶ï¼Œå†™åˆ°æ‰€æœ‰è·¯ç”±ä¹‹å</p><table><thead><tr><th>â‘  <code>if(err) &#123;next(err);return;&#125;</code></th></tr></thead><tbody><tr><td>â‘¡ <code>app.use((err,req,res,next)=&gt;&#123; res.sendStatus(500);&#125;);</code></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯-ç¯å¢ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitç¬”è®°</title>
      <link href="/2019/09/21/git%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/09/21/git%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>git config â€“global core.autocrlf false<br>git config â€“global user.name â€œunameâ€<br>git config â€“global user.email â€œuemailâ€</p>]]></content>
      
      
      <categories>
          
          <category> DevOps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
